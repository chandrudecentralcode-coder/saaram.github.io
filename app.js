/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   роЪро╛ро░роорпН (SARAM) тАФ Main Application Script v2.0
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */

'use strict';

/* тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
   CONFIGURATION
   тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
const CONFIG = {
  KURAL_API_BASE: 'https://getthirukkural.appspot.com/api/3.0',
  KURAL_API_KEY:  'qxgd9h6cgylam',
  SHEETS_URL:     'https://script.google.com/macros/s/AKfycbzPTWoV6lBMVh8o8GnzevMyPpksnvFKmwr4LHd7EtkzQAVwlUvjVXQYonwNhw1uZ4hp/exec',   // Paste your Apps Script Web App URL here after deploy
  GEMINI_PROXY:   'https://script.google.com/macros/s/AKfycbzPTWoV6lBMVh8o8GnzevMyPpksnvFKmwr4LHd7EtkzQAVwlUvjVXQYonwNhw1uZ4hp/exec',   // Same URL тАФ Apps Script handles Gemini image generation
  POSTS_PER_PAGE: 6,
  MINDFUL_PAUSE_EVERY: 5,
  CACHE_VERSION: 'saram-v2',
};

/* тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
   TAMIL CALENDAR EVENTS (local fallback)
   тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
const DAILY_EVENTS = [
  { date:'01-01', title:'рокрпБродрпНродро╛рогрпНроЯрпБ',        title_en:'New Year',          category:'oakkam',  emoji:'ЁЯОК', desc:'рокрпБродрпНродро╛рогрпНроЯрпБ роиро▓рпН ро╡ро╛ро┤рпНродрпНродрпБроХро│рпН!' },
  { date:'01-14', title:'родрпИ рокрпКроЩрпНроХро▓рпН',        title_en:'Thai Pongal',        category:'festival', emoji:'ЁЯМ╛', desc:'роЕро▒рпБро╡роЯрпИ родро┐ро░рпБро╡ро┐ро┤ро╛ тАФ роиройрпНро▒ро┐ роХрпВро▒рпБроорпН роиро╛ро│рпН' },
  { date:'01-15', title:'рооро╛роЯрпНроЯрпБрокрпН рокрпКроЩрпНроХро▓рпН',  title_en:'Mattu Pongal',       category:'festival', emoji:'ЁЯРД', desc:'рооро╛роЯрпБроХро│рпИ ро╡ро┤ро┐рокроЯрпБроорпН родро┐ро░рпБро╡ро┐ро┤ро╛' },
  { date:'01-16', title:'роХро╛рогрпБроорпН рокрпКроЩрпНроХро▓рпН',    title_en:'Kaanum Pongal',      category:'vaazhkai', emoji:'ЁЯСитАНЁЯСйтАНЁЯСз', desc:'роХрпБроЯрпБроорпНрокродрпНродро┐ройро░рпН роЪроирпНродро┐роХрпНроХрпБроорпН роиро╛ро│рпН' },
  { date:'04-14', title:'родрооро┐ро┤рпН рокрпБродрпНродро╛рогрпНроЯрпБ',  title_en:'Tamil New Year',     category:'kural',    emoji:'ЁЯМ║', desc:'рокрпБродрпНродро╛рогрпНроЯрпБ ро╡ро╛ро┤рпНродрпНродрпБроХрпНроХро│рпН тАФ роЪро┐родрпНродро┐ро░рпИ рооро╛родроорпН' },
  { date:'08-15', title:'роЪрпБродроирпНродро┐ро░ родро┐ройроорпН',    title_en:'Independence Day',   category:'oakkam',   emoji:'ЁЯЗоЁЯЗ│', desc:'родро╛ропрпНроиро╛роЯрпНроЯрпБроХрпНроХрпБ ро╡рогроХрпНроХроорпН' },
  { date:'10-02', title:'роиро╡ро░ро╛родрпНродро┐ро░ро┐',         title_en:'Navarathri',         category:'bakthi',   emoji:'ЁЯХЙя╕П', desc:'родрпЖропрпНро╡рпАроХ роЪроХрпНродро┐ропрпИ ро╡ро┤ро┐рокроЯрпБроорпН роТройрпНрокродрпБ роиро╛ро│рпН родро┐ро░рпБро╡ро┐ро┤ро╛' },
  { date:'11-14', title:'родрпАрокро╛ро╡ро│ро┐',           title_en:'Deepavali',          category:'festival', emoji:'тЬи', desc:'ро╡рпЖро│ро┐роЪрпНроЪродрпНродро┐ройрпН родро┐ро░рпБро╡ро┐ро┤ро╛' },
  { date:'11-15', title:'роХро╛ро░рпНродрпНродро┐роХрпИ родрпАрокроорпН',  title_en:'Karthigai Deepam',   category:'bakthi',   emoji:'ЁЯкФ', desc:'родрпАрок роТро│ро┐ родро┐ро░рпБро╡ро┐ро┤ро╛ тАФ роХро╛ро░рпНродрпНродро┐роХрпИ рокро╡рпБро░рпНрогрооро┐' },
  { date:'12-16', title:'рооро╛ро░рпНроХро┤ро┐',           title_en:'Margazhi',           category:'paadal',   emoji:'ЁЯО╢', desc:'родро┐ро░рпБро╡рпЖроорпНрокро╛ро╡рпИ рокро╛роЯрпБроорпН рокрпБройро┐родрооро╛рой рооро╛родроорпН' },
  { date:'12-25', title:'роХро┐ро▒ро┐ро╕рпНродрпБрооро╕рпН',       title_en:'Christmas',          category:'vaazhkai', emoji:'тнР', desc:'роЕройрпНрокрпБроорпН роороХро┐ро┤рпНроЪрпНроЪро┐ропрпБроорпН роиро┐ро▒рпИроирпНрод роиро╛ро│рпН' },
];

/* Day-of-week theme fallbacks (0=Sun тАж 6=Sat) */
const DOW_THEMES = [
  { label:'роЮро╛ропро┐ро▒рпБ',   deity:'роЪрпВро░ро┐ропройрпН',  category:'bakthi',   emoji:'тШАя╕П',  desc:'роЮро╛ропро┐ро▒рпНро▒рпБроХрпНроХро┐ро┤роорпИ тАФ роЪрпВро░ро┐роп ро╡ро┤ро┐рокро╛роЯрпБ' },
  { label:'родро┐роЩрпНроХро│рпН',   deity:'роЪро┐ро╡ройрпН',    category:'bakthi',   emoji:'ЁЯХЙя╕П',  desc:'родро┐роЩрпНроХроЯрпНроХро┐ро┤роорпИ тАФ роЪро┐ро╡ ро╡ро┤ро┐рокро╛роЯрпБ' },
  { label:'роЪрпЖро╡рпНро╡ро╛ропрпН',  deity:'роорпБро░рпБроХройрпН',  category:'bakthi',   emoji:'ЁЯМ╕',  desc:'роЪрпЖро╡рпНро╡ро╛ропрпНроХрпНроХро┐ро┤роорпИ тАФ роорпБро░рпБроХ ро╡ро┤ро┐рокро╛роЯрпБ' },
  { label:'рокрпБродройрпН',    deity:'ро╡ро┐ро╖рпНрогрпБ',   category:'bakthi',   emoji:'ЁЯк╖',  desc:'рокрпБродройрпНроХро┐ро┤роорпИ тАФ ро╡ро┐ро╖рпНрогрпБ ро╡ро┤ро┐рокро╛роЯрпБ' },
  { label:'ро╡ро┐ропро╛ро┤ройрпН',  deity:'роХрпБро░рпБ',     category:'kural',    emoji:'ЁЯУЬ',  desc:'ро╡ро┐ропро╛ро┤роХрпНроХро┐ро┤роорпИ тАФ роЮро╛рой родро┐ройроорпН' },
  { label:'ро╡рпЖро│рпНро│ро┐',   deity:'ро▓роЯрпНроЪрпБрооро┐', category:'bakthi',   emoji:'тЬи',  desc:'ро╡рпЖро│рпНро│ро┐роХрпНроХро┐ро┤роорпИ тАФ ро▓роЯрпНроЪрпБрооро┐ ро╡ро┤ро┐рокро╛роЯрпБ' },
  { label:'роЪройро┐',      deity:'роЕройрпБрооройрпН',  category:'bakthi',   emoji:'ЁЯМЯ',  desc:'роЪройро┐роХрпНроХро┐ро┤роорпИ тАФ роЕройрпБрооройрпН ро╡ро┤ро┐рокро╛роЯрпБ' },
];

/* тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
   CONTENT DATABASE  (60+ items)
   тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
const CONTENT_DB = [

  /* тФАтФА KURAL тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
  { id:1,  type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['роЕроХро░ роорпБродро▓ роОро┤рпБродрпНродрпЖро▓рпНро▓ро╛роорпН роЖродро┐','рокроХро╡ройрпН роорпБродро▒рпНро▒рпЗ роЙро▓роХрпБ'],
    explanation:'роЕроХро░роорпН роОро┤рпБродрпНродрпБроХрпНроХро│рпБроХрпНроХрпБ роорпБродройрпНроорпИ роЖро╡родрпБ рокрпЛро▓рпН, роХроЯро╡рпБро│рпН роЙро▓роХрпБроХрпНроХрпБ роорпБродройрпНроорпИ роЖро╡ро╛ройрпН.',
    source:'роХрпБро▒ро│рпН 1 тАФ роХроЯро╡рпБро│рпН ро╡ро╛ро┤рпНродрпНродрпБ', tags:['philosophy','god'], likes:142, saves:58 },

  { id:2,  type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['роХро▒рпНро▒родройро╛ро▓рпН роЖроп рокропройрпЖройрпНроХрпКро▓рпН ро╡ро╛ро▓ро▒ро┐ро╡ройрпН','роиро▒рпНро▒ро╛ро│рпН родрпКро┤ро╛роЕро░рпН роОройро┐ройрпН'],
    explanation:'родрпВроп роЕро▒ро┐ро╡рпБ ро╡роЯро┐ро╡рооро╛рой роХроЯро╡рпБро│ро┐ройрпН родро┐ро░рпБро╡роЯро┐роХро│рпИ ро╡рогроЩрпНроХро╛родро╡ро░рпН роХро▒рпНро▒ роХро▓рпНро╡ро┐ропро╛ро▓рпН роОройрпНрой рокропройрпН?',
    source:'роХрпБро▒ро│рпН 2 тАФ роХроЯро╡рпБро│рпН ро╡ро╛ро┤рпНродрпНродрпБ', tags:['learning','wisdom'], likes:98, saves:34 },

  { id:3,  type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['рооро▓ро░рпНрооро┐роЪрпИ роПроХро┐ройро╛ройрпН рооро╛рогроЯро┐ роЪрпЗро░рпНроирпНродро╛ро░рпН','роиро┐ро▓рооро┐роЪрпИ роирпАроЯрпБро╡ро╛ро┤рпН ро╡ро╛ро░рпН'],
    explanation:'родро╛рооро░рпИ рооро▓ро░рпН роорпАродрпБ роЪрпЖро▓рпНрокро╡ройро┐ройрпН роЪро┐ро▒роирпНрод родро┐ро░рпБро╡роЯро┐роХро│рпИ роЕроЯрпИроирпНродро╡ро░рпН роЗро╡рпНро╡рпБро▓роХро┐ро▓рпН роирпАрогрпНроЯ роиро╛ро│рпН ро╡ро╛ро┤рпНро╡ро╛ро░рпН.',
    source:'роХрпБро▒ро│рпН 3 тАФ роХроЯро╡рпБро│рпН ро╡ро╛ро┤рпНродрпНродрпБ', tags:['devotion','life'], likes:76, saves:29 },

  { id:4,  type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['ро╡рпЗрогрпНроЯрпБродро▓рпН ро╡рпЗрогрпНроЯро╛роорпИ роЗро▓ро╛ройрпН роЕроЯро┐ роЪрпЗро░рпНроирпНродро╛ро░рпНроХрпНроХрпБ','ропро╛рогрпНроЯрпБроорпН роЗроЯрпБроорпНрокрпИ роЗро▓'],
    explanation:'ро╡ро┐ро░рпБрокрпНрокрпБ ро╡рпЖро▒рпБрокрпНрокрпБ роЗро▓рпНро▓ро╛род роХроЯро╡рпБро│ро┐ройрпН родро┐ро░рпБро╡роЯро┐роХро│рпИ роЕроЯрпИроирпНродро╡ро░рпНроХрпНроХрпБ роОроЩрпНроХрпБроорпН родрпБройрпНрокроорпН роЗро▓рпНро▓рпИ.',
    source:'роХрпБро▒ро│рпН 4 тАФ роХроЯро╡рпБро│рпН ро╡ро╛ро┤рпНродрпНродрпБ', tags:['peace','devotion'], likes:115, saves:47 },

  { id:5,  type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['роЗро░рпБро│рпНроЪрпЗро░рпН роЗро░рпБро╡ро┐ройрпИропрпБроорпН роЪрпЗро░ро╛ роЗро▒рпИро╡ройрпН','рокрпКро░рпБро│рпНроЪрпЗро░рпН рокрпБроХро┤рпНрокрпБро░ро┐роирпНродро╛ро░рпН рооро╛роЯрпНроЯрпБ'],
    explanation:'роХроЯро╡рпБро│ро┐ройрпН рокрпБроХро┤рпИ ро╡ро┐ро░рпБроорпНрокро┐ройро╡ро░рпНроХро│ро┐роЯроорпН роиройрпНроорпИ родрпАроорпИ роОройрпНройрпБроорпН роЗро░рпБ ро╡ро┐ройрпИроХро│рпБроорпН роЪрпЗро░ро╛.',
    source:'роХрпБро▒ро│рпН 5 тАФ роХроЯро╡рпБро│рпН ро╡ро╛ро┤рпНродрпНродрпБ', tags:['karma','god'], likes:89, saves:41 },

  { id:21, type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['роХрпЗроЯрпНроЯро╛ро░рпН рокро┐рогро┐роХрпНроХрпБроорпН родроХрпИропро╡ро╛ропрпНроХрпН роХрпЗро│ро▒рпНро▒ро╛ро░рпН','роиро╛роЯрпНроЯро╛ро░рпН роЙро│ро░рпНроХрпКро▓рпН роЪрпЖро╡ро┐'],
    explanation:'роХрпЗроЯрпНроЯро╡ро░рпНроХро│рпИ роХроЯрпНроЯрпБрокрпНрокроЯрпБродрпНродрпБроорпН роЪроХрпНродро┐ропрпБро│рпНро│ро╡ро╛ропрпН, роХрпЗроЯрпНроХро╛родро╡ро░ро┐роЯроорпН роХро╛родрпБроХро│рпН роЗро░рпБрокрпНрокродрпБ роОройрпНрой рокропройрпН?',
    source:'роХрпБро▒ро│рпН 418 тАФ роХрпЗро│рпНро╡ро┐', tags:['knowledge','learning'], likes:134, saves:67 },

  { id:22, type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['роЕройрпНрокро┐ро▓рпНро▓ро╛ро░рпН роОро▓рпНро▓ро╛роорпН родроороХрпНроХрпБро░ро┐ропро░рпН','роЕройрпНрокрпБроЯрпИропро╛ро░рпН роОройрпНрокрпБроорпН роЙро░ро┐ропро░рпН рокро┐ро▒ро░рпНроХрпНроХрпБ'],
    explanation:'роЕройрпНрокро┐ро▓рпНро▓ро╛родро╡ро░рпН роОро▓рпНро▓ро╛ро╡ро▒рпНро▒рпИропрпБроорпН родроороХрпНроХрпЗ роОройрпНро▒рпБ ро╡рпИродрпНродро┐ро░рпБрокрпНрокро╛ро░рпН; роЕройрпНрокрпБроЯрпИропрпЛро░рпН родроорпН роЙроЯро▓рпИропрпБроорпН рокро┐ро▒ро░рпНроХрпНроХро╛роХ родро░рпБро╡ро░рпН.',
    source:'роХрпБро▒ро│рпН 72 тАФ роЕройрпНрокрпБроЯрпИроорпИ', tags:['love','generosity'], likes:201, saves:98 },

  { id:23, type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['роТро┤рпБроХрпНроХроорпН ро╡ро┐ро┤рпБрокрпНрокроорпН родро░ро▓ро╛ройрпН роТро┤рпБроХрпНроХроорпН','роЙропро┐ро░ро┐ройрпБроорпН роУроорпНрокрокрпН рокроЯрпБроорпН'],
    explanation:'роТро┤рпБроХрпНроХроорпН роорпЗройрпНроорпИропрпИ роЕро│ро┐рокрпНрокродро╛ро▓рпН, роТро┤рпБроХрпНроХроорпН роЙропро┐ро░ро┐ройрпБроорпН роорпЗро▓ро╛роХ роХро╛роХрпНроХрокрпНрокроЯ ро╡рпЗрогрпНроЯро┐ропродрпБ.',
    source:'роХрпБро▒ро│рпН 131 тАФ роТро┤рпБроХрпНроХроорпБроЯрпИроорпИ', tags:['virtue','discipline'], likes:178, saves:84 },

  { id:24, type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['родрпАропро┐ройро╛ро▓рпН роЪрпБроЯрпНроЯрокрпБрогрпН роЙро│рпНро│ро╛ро▒рпБроорпН роЖро▒ро╛родрпЗ','роиро╛ро╡ро┐ройро╛ро▓рпН роЪрпБроЯрпНроЯ ро╡роЯрпБ'],
    explanation:'родрпАропро╛ро▓рпН роЪрпБроЯрпНроЯ рокрпБрогрпН роТро░рпБ роиро╛ро│ро┐ро▓рпН роХрпБрогрооро╛роХрпБроорпН; роиро╛ро╡ро╛ро▓рпН роЪрпБроЯрпНроЯ ро╡роЯрпБ роОройрпНро▒рпБроорпН роЖро▒ро╛родрпБ.',
    source:'роХрпБро▒ро│рпН 129 тАФ роЗройрпНройро╛роЪрпЖропрпНропро╛роорпИ', tags:['speech','kindness'], likes:312, saves:145 },

  { id:25, type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['роиро▓рпНро▓ро╡рпИ роиро╛роЯро┐ роиро▓ройро╛роЯро┐ ро╡ро╛ро┤рпНрокро╡ро░рпНроХрпНроХрпБ','роОро▓рпНро▓ро╛роорпЗ роОропрпНродрпБро╡ро░рпН ропро╛рогрпНроЯрпБроорпН'],
    explanation:'роиро▓рпНро▓родрпИ роиро╛роЯро┐ роиро▓ройрпЛроЯрпБ ро╡ро╛ро┤рпНрокро╡ро░рпНроХро│рпН роОроЩрпНроХрпБроорпН роОро▓рпНро▓ро╛ро╡ро▒рпНро▒рпИропрпБроорпН роЕроЯрпИро╡ро╛ро░рпНроХро│рпН.',
    source:'роХрпБро▒ро│рпН 340 тАФ ро╡ро┐ройрпИродрпНродро┐роЯрпНрокроорпН', tags:['virtue','success'], likes:145, saves:72 },

  { id:26, type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['роЕроХро┤рпНро╡ро╛ро░рпИродрпН родро╛роЩрпНроХрпБроорпН роиро┐ро▓роорпН рокрпЛро▓родрпН родроорпНроорпИ','роЗроХро┤рпНро╡ро╛ро░рпИрокрпН рокрпКро▒рпБродрпНродро▓рпН родро▓рпИ'],
    explanation:'родройрпНройрпИ родрпЛрогрпНроЯрпБро╡рпЛро░рпИропрпБроорпН родро╛роЩрпНроХрпБроорпН роиро┐ро▓роорпНрокрпЛро▓, родройрпНройрпИ роЗроХро┤рпНро╡рпЛро░рпИропрпБроорпН рокрпКро▒рпБродрпНродро┐ро░рпБрокрпНрокродрпЗ роЪро┐ро▒рокрпНрокрпБ.',
    source:'роХрпБро▒ро│рпН 151 тАФ рокрпКро▒рпИропрпБроЯрпИроорпИ', tags:['patience','virtue'], likes:267, saves:123 },

  /* тФАтФА BAKTHI тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
  { id:6,  type:'text', category:'bakthi',
    title:'родрпЗро╡ро╛ро░роорпН',
    verse:['родрпЛроЯрпБроЯрпИроп роЪрпЖро╡ро┐ропройрпН ро╡ро┐роЯрпИропрпЗро▒ро┐','роУро░рпБроЯрпИроп рокро┐ро▒рпИропройрпН роЙро▓роХро┐ройро┐ро▓рпН родрпЛройрпНро▒рпБроорпН'],
    explanation:'роХро╛родро┐ро▓рпН рооро▓ро░рпН роЕрогро┐роирпНродро╡ро░рпБроорпН, роТро▒рпНро▒рпИ ро╡ро┐роЯрпИ роорпАродрпБ роПро▒ро┐ропро╡ро░рпБроорпН, роЪроирпНродро┐ро░ройрпИ роЕрогро┐роирпНродро╡ро░рпБроорпН роЖроХро┐роп роЪро┐ро╡рокрпЖро░рпБрооро╛ройрпН...',
    source:'родро┐ро░рпБроЮро╛ройроЪроорпНрокроирпНродро░рпН тАФ родрпЗро╡ро╛ро░роорпН', tags:['shiva','devotion','hymn'], likes:203, saves:87 },

  { id:7,  type:'text', category:'bakthi',
    title:'родро┐ро░рпБро╡ро╛роЪроХроорпН',
    verse:['роЪро┐ро╡ро╛роп роироо роОройрпНройрпБроорпН роЪро┐родрпНродро░рпН ро╡рпЗро▓рпБроорпН','роЕро╡ро╛ро╡ро┐ройрпИ ропро▒рпБроХрпНроХрпБроорпН роЕро░рпБрооро░рпБроирпНродрпЗ'],
    explanation:'роЪро┐ро╡ро╛роп роироо роОройрпНройрпБроорпН роороирпНродро┐ро░роорпН роЪро┐родрпНродро░рпНроХро│ро┐ройрпН ро╡рпЗро▓ро╛роХро╡рпБроорпН, роЖроЪрпИропрпИ роирпАроХрпНроХрпБроорпН роЕро░рпБрооро░рпБроирпНродро╛роХро╡рпБроорпН роЙро│рпНро│родрпБ.',
    source:'рооро╛рогро┐роХрпНроХро╡ро╛роЪроХро░рпН тАФ родро┐ро░рпБро╡ро╛роЪроХроорпН', tags:['mantra','shiva','liberation'], likes:178, saves:92 },

  { id:8,  type:'text', category:'bakthi',
    title:'родро┐ро░рпБроороирпНродро┐ро░роорпН',
    verse:['роЖройрпНрооро╛ро╡рпБроорпН роИроЪройрпБроорпН роТройрпНро▒рпЗ роЖройродрпБ','родро╛ройрпН роЕро▒ро┐роирпНродро┐роЯро┐ро▓рпН родродрпНродрпБро╡роорпН роЖроХрпБроорпЗ'],
    explanation:'роЖройрпНрооро╛ро╡рпБроорпН роЗро▒рпИро╡ройрпБроорпН роТройрпНро▒рпЗ роОройрпНрокродрпИ родро╛ройрпН роЙрогро░рпНроирпНродро╛ро▓рпН роЕродрпБро╡рпЗ роорпЖропрпНроЮрпНроЮро╛ройроорпН роЖроХрпБроорпН.',
    source:'родро┐ро░рпБроорпВро▓ро░рпН тАФ родро┐ро░рпБроороирпНродро┐ро░роорпН', tags:['philosophy','soul','god'], likes:145, saves:68 },

  { id:31, type:'text', category:'bakthi',
    title:'роиро╛ро▓ро╛ропро┐ро░ родро┐ро╡рпНропрокрпН рокро┐ро░рокроирпНродроорпН',
    verse:['роХрогрпНрогройрпН роОройрпНройрпБроорпН роХро░рпБроорпНродрпЖропрпНро╡роорпН','роОройрпНройрпБроорпН роЗроЯродрпНродрпБроорпН роиро┐ройрпНро▒ро╛ройрпН'],
    explanation:'роХрогрпНрогройрпН роОройрпНройрпБроорпН роХро░ро┐роп роХроЯро╡рпБро│рпН роОройрпНройро┐роЯродрпНродро┐ро▓рпБроорпН роиро┐ро▒рпИроирпНродрпБ роиро┐ро▒рпНроХро┐ро▒ро╛ройрпН.',
    source:'роироорпНрооро╛ро┤рпНро╡ро╛ро░рпН тАФ родро┐ро░рпБро╡ро╛ропрпНроорпКро┤ро┐', tags:['krishna','devotion'], likes:189, saves:94 },

  { id:32, type:'text', category:'bakthi',
    title:'родро┐ро░рпБрокрпНрокрпБроХро┤рпН',
    verse:['роЪро░ро╡рог рокро╡ро╛ роОройрпНро▒рпБ роЪрпКро▓рпНро╡ро░рпН','родро▓рооро┐роЪрпИ роЕрооро░рпНроирпНрод роорпБро░рпБроХро╛'],
    explanation:'роЪро░ро╡рог рокро╡ро╛ роОройрпНро▒рпБ роЪрпКро▓рпНрокро╡ро░рпНроХро│рпН родрпКро▓рпНро▓рпИроХро│ро┐ро▓ро┐ро░рпБроирпНродрпБ ро╡ро┐роЯрпБрокроЯрпНроЯрпБ роЕро░рпБро│рпН рокрпЖро▒рпБро╡ро╛ро░рпНроХро│рпН.',
    source:'роЕро░рпБрогроХро┐ро░ро┐роиро╛родро░рпН тАФ родро┐ро░рпБрокрпНрокрпБроХро┤рпН', tags:['murugan','liberation'], likes:167, saves:78 },

  { id:33, type:'text', category:'bakthi',
    title:'роХроирпНрод роЪро╖рпНроЯро┐ роХро╡роЪроорпН',
    verse:['родрпБродро┐рокрпНрокрпЛро░рпНроХрпНроХрпБ ро╡ро▓рпНро╡ро┐ройрпИ рокрпЛроорпН','роХро╡ро▓рпИ рокрпЛроорпН родрпАроорпИ рокрпЛроорпН'],
    explanation:'родрпБродро┐рокрпНрокро╡ро░рпНроХро│рпБроХрпНроХрпБ ро╡ро▓ро┐роп ро╡ро┐ройрпИроХро│рпН роирпАроЩрпНроХрпБроорпН, роХро╡ро▓рпИ роирпАроЩрпНроХрпБроорпН, родрпАроорпИ роирпАроЩрпНроХрпБроорпН.',
    source:'родро┐ро░рпБ.родрпЗро╡ро░ро╛роп роЪрпБро╡ро╛рооро┐роХро│рпН', tags:['murugan','protection'], likes:234, saves:112 },

  /* тФАтФА PAADAL тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
  { id:9,  type:'text', category:'paadal',
    title:'родрооро┐ро┤рпН рокро╛роЯро▓рпН',
    verse:['родрооро┐ро┤рпНродрпН родро╛ропрпН ро╡ро╛ро┤рпНроХ! родрогрпН родрооро┐ро┤рпН ро╡ро╛ро┤рпНроХ!','роорпКро┤ро┐роХро│ро┐ро▓рпЗ родрооро┐ро┤рпН роорпКро┤ро┐ ро╡ро╛ро┤рпНроХ!'],
    explanation:'родрооро┐ро┤рпН роорпКро┤ро┐ропро┐ройрпН рокрпЖро░рпБроорпИропрпИропрпБроорпН роЕродройрпН роиро┐ро▓рпИродрпНрод ро╡ро╛ро┤рпНро╡рпИропрпБроорпН ро╡ро╛ро┤рпНродрпНродрпБроХро┐ро▒родрпБ роЗрокрпНрокро╛роЯрпНроЯрпБ.',
    source:'родрооро┐ро┤рпН рокроХрпНродро┐ рокро╛роЯро▓рпН', tags:['tamil','language','pride'], likes:267, saves:134 },

  { id:10, type:'text', category:'paadal',
    title:'рокро╛ро░родро┐ропро╛ро░рпН рокро╛роЯро▓рпН',
    verse:['ро╡ро╛ро░ро╛ропрпН роЪро┐ро▒рпБрооро┐, ро╡ро╛ ро╡ро╛ ро╡ро╛','ро╡ро╛ройроорпН роЪро┐ро╡роХрпНроХ ро╡ро╛ ро╡ро╛ ро╡ро╛'],
    explanation:'рокро╛ро░родро┐ропро╛ро░рпН родрооро┐ро┤рпН роороХрпНроХро│рпИ ро╡ро┐роЯрпБродро▓рпИ роирпЛроХрпНроХро┐ ро╡ро░ро╡ро┤рпИроХрпНроХрпБроорпН роКроХрпНроХроорпВроЯрпНроЯрпБроорпН рокро╛роЯро▓рпН.',
    source:'роЪрпБрокрпНрокро┐ро░роорогро┐роп рокро╛ро░родро┐', tags:['bharati','freedom','classic'], likes:198, saves:89 },

  { id:11, type:'text', category:'paadal',
    title:'роХроорпНрокро░ро╛рооро╛ропрогроорпН',
    verse:['ро╡ро╛ройрпН роХрпАро▒ро┐роп роирпЖроЯрпБроЩрпНроХрпБройрпНро▒ро┐ройрпБроорпН ро╡ро▓ро┐ропройрпН роЕро▓рпНро▓ройрпН','родро╛ройрпН роХрпАро▒ро┐роп родроЯроЩрпНроХроЯро▓рпН ро╡ро▓ро┐роп роЕро▓рпНро▓ройрпН'],
    explanation:'роХроорпНрокройрпН ро░ро╛рооройро┐ройрпН ро╡ро▓ро┐роорпИропрпИ ро╡ро╛ройрпНроорпВроЯрпБроорпН рооро▓рпИропрпИропрпБроорпН роХроЯро▓рпИропрпБроорпН ро╡ро┐роЯ роорпЗро▓ро╛ройродрпБ роОройрпНро▒рпБ роЪрпКро▓рпНроХро┐ро▒ро╛ро░рпН.',
    source:'роХроорпНрокройрпН тАФ роХроорпНрокро░ро╛рооро╛ропрогроорпН', tags:['epic','rama','classic'], likes:134, saves:56 },

  { id:41, type:'audio', category:'paadal',
    title:'рокро╛ро░родро┐ропро╛ро░рпН тАФ роОройрпНройрпБропро┐ро░рпН родрпЛро┤ройрпН',
    verse:['роОройрпНройрпБропро┐ро░рпН родрпЛро┤ройрпН роЕро╡ройрпН','роОройрпН роЗройрпНрок роЗро░роХроЪро┐ропроорпН роЕро╡ройрпН'],
    explanation:'рокро╛ро░родро┐ропро╛ро░рпН родройрпН роЖройрпНроо родрпЛро┤ройрпИрокрпН рокро▒рпНро▒ро┐ роОро┤рпБродро┐роп роЕро┤роХро┐роп роХро╛родро▒рпН рокро╛роЯро▓рпН.',
    source:'роЪрпБрокрпНрокро┐ро░роорогро┐роп рокро╛ро░родро┐', audio_url: null,
    tags:['bharati','love','classic'], likes:345, saves:167 },

  { id:42, type:'audio', category:'paadal',
    title:'рокро╛ро░родро┐родро╛роЪройрпН тАФ роЗро│рпИроЮро░рпН роЗро▓роХрпНроХро┐ропроорпН',
    verse:['роХро╛ро▒рпНро▒рпЗ ро╡ро╛, роХро╛ро▒рпНро▒рпЗ ро╡ро╛','роХроЯро▓рпЗ рокро╛роЯрпБ, роХроЯро▓рпЗ рокро╛роЯрпБ'],
    explanation:'роЗро│рпИроЮро░рпНроХро│рпБроХрпНроХрпБ ро╡рпАро░роорпБроорпН роЙродрпНро╡рпЗроХроорпБроорпН роКроЯрпНроЯрпБроорпН рокро╛ро░родро┐родро╛роЪройро┐ройрпН роЕрооро░ роХро╡ро┐родрпИ.',
    source:'рокро╛ро░родро┐родро╛роЪройрпН', audio_url: null,
    tags:['bharathidasan','youth','inspiration'], likes:289, saves:134 },

  { id:43, type:'audio', category:'paadal',
    title:'роЪро┐роирпНродрпБроХрпНроХрпБропро┐ро▓рпН тАФ родро╛ро▓ро╛роЯрпНроЯрпБ',
    verse:['родро╛ро▓ро╛ро▓рпЛ родро╛ро▓рпЗро▓рпЛ','родроЩрпНроХроХрпН роХрпБро┤роирпНродрпИ родро╛ро▓рпЗро▓рпЛ'],
    explanation:'родрооро┐ро┤рпН роЕройрпНройрпИ родройрпН роХрпБро┤роирпНродрпИропрпИ родро╛ро▓ро╛роЯрпНроЯрпБроорпН роЗройро┐роп родро╛ро▓ро╛роЯрпНроЯрпБ рокро╛роЯро▓рпН.',
    source:'родрооро┐ро┤рпН роиро╛роЯрпНроЯрпБрокрпНрокрпБро▒рокрпН рокро╛роЯро▓рпН', audio_url: null,
    tags:['lullaby','love','folk'], likes:178, saves:89 },

  /* тФАтФА OAKKAM (Motivation) тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
  { id:12, type:'text', category:'oakkam',
    title:'роКроХрпНроХроорпКро┤ро┐ тАФ родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['роЙро│рпНро│роорпН роЙроЯрпИроорпИ роЙроЯрпИроорпИ; рокрпКро░рпБро│рпБроЯрпИроорпИ','роиро┐ро▓рпНро▓ро╛родрпБ роирпАроЩрпНроХро┐ ро╡ро┐роЯрпБроорпН'],
    explanation:'рооройроорпБроЯрпИроорпИропрпЗ роЙрогрпНроорпИропро╛рой роЪрпЖро▓рпНро╡роорпН. рокрпКро░рпБроЯрпНроЪрпЖро▓рпНро╡роорпН роиро┐ро▓рпИроХрпНроХро╛родрпБ рокрпЛропрпНро╡ро┐роЯрпБроорпН.',
    source:'родро┐ро░рпБро╡ро│рпНро│рпБро╡ро░рпН тАФ роХрпБро▒ро│рпН 595', tags:['motivation','wealth','mind'], likes:312, saves:156 },

  { id:13, type:'text', category:'oakkam',
    title:'роКроХрпНроХроорпКро┤ро┐',
    verse:['ро╡ро┐ройрпИродрпНродро┐роЯрпНрокроорпН роОройрпНрокродрпБ роТро░рпБро╡ройрпН рооройродрпНродро┐роЯрпНрокроорпН','рооро▒рпНро▒рпИропроГродрпБ ро╡рпЖро▒рпНро▒ро┐ родро░рпБроорпН'],
    explanation:'роЪрпЖропро▓ро┐ройрпН роЙро▒рпБродро┐ роОройрпНрокродрпБ рооройродрпНродро┐ройрпН роЙро▒рпБродро┐ропрпЗ. рооройро╡рпБро▒рпБродро┐ роороЯрпНроЯрпБроорпЗ ро╡рпЖро▒рпНро▒ро┐ропрпИ роЕро│ро┐роХрпНроХрпБроорпН.',
    source:'родро┐ро░рпБро╡ро│рпНро│рпБро╡ро░рпН тАФ роХрпБро▒ро│рпН 664', tags:['willpower','success','determination'], likes:445, saves:221 },

  { id:14, type:'text', category:'oakkam',
    title:'рокро╛ро░родро┐ропро╛ро░рпН роКроХрпНроХроорпН',
    verse:['ропро╛рооро▒ро┐роирпНрод роорпКро┤ро┐роХро│ро┐ро▓рпЗ родрооро┐ро┤рпНроорпКро┤ро┐рокрпЛро▓рпН','роЗройро┐родро╛ро╡родрпБ роОроЩрпНроХрпБроорпН роХро╛рогрпЛроорпН'],
    explanation:'роиро╛роорпН роЕро▒ро┐роирпНрод роОро▓рпНро▓ро╛ роорпКро┤ро┐роХро│ро┐ро▓рпБроорпН родрооро┐ро┤рпН роорпКро┤ро┐ропрпИрокрпН рокрпЛро▓рпН роЗройро┐роорпИропро╛ройродрпБ ро╡рпЗро▒рпЖроЩрпНроХрпБроорпН роЗро▓рпНро▓рпИ.',
    source:'роЪрпБрокрпНрокро┐ро░роорогро┐роп рокро╛ро░родро┐', tags:['tamil','pride','language'], likes:387, saves:198 },

  { id:15, type:'text', category:'oakkam',
    title:'ро╡рпЗродродрпНродро┐ро▓ро┐ро░рпБроирпНродрпБ',
    verse:['роОро┤рпБ, ро╡ро┐ро┤ро┐, роЗро▓роХрпНроХрпИ роЕроЯрпИропрпБроорпН ро╡ро░рпИ роиро┐ро▒рпБродрпНродро╛родрпЗ!','роЙрогро░рпНро╡рпБроЯройрпН роЪрпЖропро▓рпНрокроЯрпБ, ро╡рпЖро▒рпНро▒ро┐ роЙройрпНройрпИродрпН родрпЗроЯрпБроорпН'],
    explanation:'ро╡ро┐ро┤рпБроирпНродро╛ро▓рпБроорпН роОро┤рпБ, роиро┐ройрпНро▒ро╛ро▓рпБроорпН роироЯ тАФ роЙройрпН роЗро▓роХрпНроХрпИ роЕроЯрпИропрпБроорпН ро╡ро░рпИ роорпБропро▒рпНроЪро┐ропрпИ роиро┐ро▒рпБродрпНродро╛родрпЗ.',
    source:'родрооро┐ро┤рпН роирпАродро┐ ро╡ро╛роХрпНроХро┐ропроорпН', tags:['perseverance','goals','motivation'], likes:523, saves:267 },

  { id:51, type:'text', category:'oakkam',
    title:'роКроХрпНроХроорпКро┤ро┐ тАФ роХрпБро▒ро│рпН',
    verse:['роЖроХрпНроХроорпН роЗро┤роирпНродрпЗроорпЖройрпНро▒рпБ роЕро▓рпНро▓ро╛ро╡ро╛ро░рпН','роКроХрпНроХроорпН роЙроЯрпИропро╛ро░рпН роЙро▓роХрпБ'],
    explanation:'ро╡ро╛ропрпНрокрпНрокрпИ роЗро┤роирпНродрпЗроорпН роОройрпНро▒рпБ роЪрпЛро░рпНро╡роЯрпИропро╛рооро▓рпН, роорпАрогрпНроЯрпБроорпН роорпБропро▓рпБроорпН роКроХрпНроХроорпБроЯрпИропро╡ро░рпЗ роЙро▓роХрпИ роЖро│рпНро╡ро╛ро░рпН.',
    source:'родро┐ро░рпБро╡ро│рпНро│рпБро╡ро░рпН тАФ роХрпБро▒ро│рпН 623', tags:['perseverance','success'], likes:398, saves:189 },

  { id:52, type:'text', category:'oakkam',
    title:'роКроХрпНроХроорпКро┤ро┐',
    verse:['роКро┤ро┐ро▒рпНроХрпБ роТро░рпБро╡ройрпН родрпЛро▒рпНро▒ро╛ро▓рпН роКроХрпНроХроорпН роЗро┤роирпНродро╛ройрпЛ?','роКро┤рпИропрпБроорпН родройрпНройро╛ро▓рпН ро╡рпЖро▓рпНро╡ро╛ройрпН'],
    explanation:'родро▓рпИро╡ро┐родро┐ропро╛ро▓рпН родрпЛро▒рпНро▒ро╛ро▓рпБроорпН, родройрпН роКроХрпНроХродрпНродрпИ роЗро┤роХрпНроХро╛рооро▓рпН роЗро░рпБрокрпНрокро╡ройрпН ро╡ро┐родро┐ропрпИропрпБроорпН ро╡рпЖро▓рпНро╡ро╛ройрпН.',
    source:'родрооро┐ро┤рпН роирпАродро┐ роорпКро┤ро┐', tags:['fate','willpower','motivation'], likes:467, saves:234 },

  { id:53, type:'image', category:'oakkam',
    title:'ро╡рпЗро▓рпИ роЖроЯрпНроЪро┐',
    verse:['родройрпНройрпИ ро╡рпЖройрпНро▒ро╡ройрпН роЙро▓роХрпИ ро╡рпЖро▓рпНро╡ро╛ройрпН','родройрпНройрпИ родрпЛро▒рпНро▒ро╡ройрпН роОродрпИропрпБроорпН родрпЛро▒рпНрокро╛ройрпН'],
    explanation:'родройрпНройрпИропрпЗ ро╡рпЖро▓рпНрокро╡ройрпНродро╛ройрпН роЙрогрпНроорпИропро╛рой ро╡рпАро░ройрпН. родройрпНройроорпНрокро┐роХрпНроХрпИропрпЗ ро╡рпЖро▒рпНро▒ро┐ропро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИ.',
    source:'родрооро┐ро┤рпН роирпАродро┐ ро╡ро╛роХрпНроХро┐ропроорпН',
    gradient_bg:'linear-gradient(135deg, #7B0000 0%, #C9A84C 100%)',
    tags:['self-mastery','victory'], likes:512, saves:256 },

  /* тФАтФА VAAZHKAI (Life Wisdom) тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
  { id:16, type:'text', category:'vaazhkai',
    title:'ро╡ро╛ро┤рпНроХрпНроХрпИ роЮро╛ройроорпН',
    verse:['роЕройрпНрокрпБроорпН роЕро▒ройрпБроорпН роЙроЯрпИродрпНродро╛ропро┐ройрпН роЗро▓рпНро╡ро╛ро┤рпНроХрпНроХрпИ','рокрогрпНрокрпБроорпН рокропройрпБроорпН роЕродрпБ'],
    explanation:'роЕройрпНрокрпБроорпН роЕро▒роорпБроорпН роЙроЯрпИропродро╛роХ роЗро░рпБроирпНродро╛ро▓рпН роЗро▓рпНро╡ро╛ро┤рпНроХрпНроХрпИропро┐ройрпН рокропройрпБроорпН роЪро┐ро▒рокрпНрокрпБроорпН роЕродрпБро╡рпЗ.',
    source:'родро┐ро░рпБро╡ро│рпНро│рпБро╡ро░рпН тАФ роХрпБро▒ро│рпН 45', tags:['love','dharma','family'], likes:289, saves:143 },

  { id:17, type:'text', category:'vaazhkai',
    title:'ро╡ро╛ро┤рпНроХрпНроХрпИ роирпАродро┐',
    verse:['роЗройрпНроЪрпКро▓ро╛ро▓рпН роИро░роорпН роЕро│рпИроЗрокрпН рокроЯро┐ро▒рпБроЗро▓ро╡ро╛роорпН','роЪрпЖроорпНрокрпКро░рпБро│рпН роХрогрпНроЯро╛ро░рпНро╡ро╛ропрпНроЪрпН роЪрпКро▓рпН'],
    explanation:'роЗройро┐роорпИропро╛рой роЪрпКро▒рпНроХро│ро╛ро▓рпН роЕройрпНрокрпБ роХро▓роирпНродрпБ, ро╡роЮрпНроЪройрпИропро┐ро▓рпНро▓ро╛рооро▓рпН рокрпЗроЪрпБро╡родрпЗ роорпЖропрпНрокрпНрокрпКро░рпБро│рпИ роЕро▒ро┐роирпНродро╡ро░рпН ро╡ро╛ропрпНроЪрпНроЪрпКро▓рпН.',
    source:'родро┐ро░рпБро╡ро│рпНро│рпБро╡ро░рпН тАФ роХрпБро▒ро│рпН 93', tags:['speech','kindness','truth'], likes:167, saves:78 },

  { id:18, type:'text', category:'vaazhkai',
    title:'родрогрпНроЯро┐ропро▓роЩрпНроХро╛ро░роорпН',
    verse:['рокрпКро▒рпИропрпБроорпН родро┐рогро┐ро╡рпБроорпН рокроЯрпИродрпНродро╛ро░рпЗ','роЙро▒рпИро╡ро┐роЯроорпН роЖро╡ро╛ро░рпН рокро┐ро▒ро░рпНроХрпНроХрпЖро▓рпНро▓ро╛роорпН'],
    explanation:'рокрпКро▒рпБроорпИропрпБроорпН роЙро▒рпБродро┐ропрпБроорпН роХрпКрогрпНроЯро╡ро░рпЗ рооро▒рпНро▒ро╡ро░рпНроХро│рпБроХрпНроХрпБ роЕроЯрпИроХрпНроХро▓рооро╛ро╡ро╛ро░рпН.',
    source:'родрооро┐ро┤рпН роирпАродро┐ роирпВро▓рпН', tags:['patience','strength','shelter'], likes:198, saves:94 },

  { id:19, type:'text', category:'vaazhkai',
    title:'роиро╛ро▓роЯро┐ропро╛ро░рпН',
    verse:['роиро▓рпНро▓ро╛ро░рпИ роХро╛рогрпНрокродрпБ роЕро░ро┐родрпБ; роиро▓роорпБроЯрпИропро╛ро░рпН','роЪрпКро▓рпНро▓ро╛ро░рпН рокро┤ро┐рокрпНрокрой роЪрпКро▓рпН'],
    explanation:'роиро▓рпНро▓ро╡ро░рпНроХро│рпИроХрпН роХро╛рогрпНрокродрпБ роЕро░ро┐родрпБ; роиро▓роорпН роЙроЯрпИропро╡ро░рпН рокро┤ро┐роХрпНроХродрпНродроХрпНроХро╡ро▒рпНро▒рпИ роЪрпКро▓рпНро▓ рооро╛роЯрпНроЯро╛ро░рпН.',
    source:'роиро╛ро▓роЯро┐ропро╛ро░рпН', tags:['virtue','speech','goodness'], likes:143, saves:62 },

  { id:20, type:'text', category:'vaazhkai',
    title:'роТро│ро╡рпИропро╛ро░рпН роирпАродро┐',
    verse:['роЖродрпНродро┐роЪрпВроЯро┐ роЕрооро░рпНроирпНрод ро╡рпЗро▓рпЛройрпН','роХро╛родрпНродрпБро▓ роХро╛роХрпНроХ роХроЯро╡рпБро│рпН ро╡рпЗрогрпНроЯрпБроорпН'],
    explanation:'роТро╡рпНро╡рпКро░рпБ роиро╛ро│рпБроорпН роиро▓рпНро▓ роЪрпЖропро▓рпНроХро│ро╛ро▓рпН родрпКроЯроЩрпНроХро┐ройро╛ро▓рпН роХроЯро╡рпБро│ро┐ройрпН роЕро░рпБро│рпН родро╛ройро╛роХ роХро┐роЯрпИроХрпНроХрпБроорпН.',
    source:'роТро│ро╡рпИропро╛ро░рпН тАФ роЖродрпНродро┐роЪрпВроЯро┐', tags:['prayer','daily','virtue'], likes:234, saves:112 },

  { id:61, type:'image', category:'vaazhkai',
    title:'роЗропро▒рпНроХрпИ роЮро╛ройроорпН',
    verse:['рооро░роорпН ро╡ро│ро░рпНродрпНродро╡ройрпН рооро┤рпИропрпИ ро╡ро│ро░рпНроХрпНроХро┐ро▒ро╛ройрпН','роорогрпНрогрпИ роХро╛рокрпНрокро╡ройрпН родройрпНройрпИ роХро╛роХрпНроХро┐ро▒ро╛ройрпН'],
    explanation:'роЗропро▒рпНроХрпИропрпИрокрпН рокро╛родрпБроХро╛рокрпНрокродрпБ рооройро┐родройро┐ройрпН роХроЯроорпИ роороЯрпНроЯрпБрооро▓рпНро▓, родройрпНройрпИ роХро╛родрпНродрпБроХрпНроХрпКро│рпНро╡родрпБроорпН роЖроХрпБроорпН.',
    source:'родрооро┐ро┤рпН роиро╛роЯрпНроЯрпБрокрпНрокрпБро▒ роорпКро┤ро┐',
    gradient_bg:'linear-gradient(135deg, #1a472a 0%, #2d8a4e 60%, #C9A84C 100%)',
    tags:['nature','environment','wisdom'], likes:312, saves:156 },

  { id:62, type:'text', category:'vaazhkai',
    title:'ро╡ро╛ро┤рпНроХрпНроХрпИ роЪро┐роирпНродройрпИ',
    verse:['рокрпКро┤рпБродро┐ройрпИ ро╡рпАрогро╛роХрпНроХро╛родрпЗ','рокрпКройрпНройрпИ ро╡ро┐роЯ роородро┐рокрпНрокрпБ роЕродрпБ'],
    explanation:'роирпЗро░роорпН родроЩрпНроХродрпНродрпИ ро╡ро┐роЯро╡рпБроорпН роородро┐рокрпНрокрпБрооро┐роХрпНроХродрпБ. ро╡рпАрогро╛роХрпНроХрокрпНрокроЯрпНроЯ роирпЗро░роорпН роОрокрпНрокрпЛродрпБроорпН родро┐ро░рпБроорпНрокро┐ ро╡ро░ро╛родрпБ.',
    source:'родрооро┐ро┤рпН ро╡ро╛ро┤рпНроХрпНроХрпИ роирпАродро┐', tags:['time','discipline','wisdom'], likes:278, saves:139 },

  { id:63, type:'text', category:'vaazhkai',
    title:'роироЯрпНрокрпБ роирпАродро┐',
    verse:['роироЯрпНрокро╛ро╡родрпБ роиро╛роЯро╛ ро╡ро┐ро│рпИродрпНродро▓ро╛ро▓рпН','роироЯрпНрокро▓рпНро▓родрпБ роЗро▓рпНро▓рпИ роиро▓рпНро╡ро╛ро┤рпНроХрпНроХрпИ'],
    explanation:'роЙрогрпНроорпИропро╛рой роироЯрпНрокрпБ родрпЗро╡рпИропро┐ройрпНрокрпЛродрпБ роЙродро╡рпБро╡родрпЗ. роироЯрпНрокро┐ро▓рпНро▓ро╛род роиро▓рпНро▓ ро╡ро╛ро┤рпНроХрпНроХрпИ роЗро▓рпНро▓рпИ.',
    source:'родрооро┐ро┤рпН роироЯрпНрокрпБ роирпВро▓рпН', tags:['friendship','life'], likes:198, saves:97 },

  { id:64, type:'text', category:'vaazhkai',
    title:'роХрпБроЯрпБроорпНрок роирпАродро┐',
    verse:['родро╛ропрпН рооройроорпН рокрпЛро▓ родрпЖропрпНро╡роорпН роЗро▓рпНро▓рпИ','родроирпНродрпИ роЕройрпНрокро╛ро▓рпН родро╛ройрпН роЗро▓рпНро▓роорпН'],
    explanation:'родро╛ропро┐ройрпН роЕройрпНрокрпИ ро╡ро┐роЯ родрпЖропрпНро╡рпАроХрооро╛рой роТройрпНро▒рпБ роЗро▓рпНро▓рпИ; родроирпНродрпИропро┐ройрпН роЕройрпНрокрпЗ ро╡рпАроЯрпНроЯрпИ ро╡рпАроЯро╛роХрпНроХрпБроХро┐ро▒родрпБ.',
    source:'родрооро┐ро┤рпН роХрпБроЯрпБроорпНрок роорпКро┤ро┐', tags:['family','mother','father'], likes:456, saves:228 },

  /* тФАтФА VISUAL GRADIENT IMAGE POSTS тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
  { id:80, type:'image', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН тАФ роЪро┐ро▒рокрпНрокрпБ',
    verse:['ропро╛роХро╛ро╡ро╛ро░ро╛ропро┐ройрпБроорпН роиро╛роХро╛роХрпНроХ','роХро╛ро╡ро╛роХрпНроХро╛ро▓рпН роЪрпЛроХро╛рокрпНрокро░рпН роЪрпКро▓рпН'],
    explanation:'роОродрпИ роХро╛роХрпНроХро╛ро╡ро┐роЯрпНроЯро╛ро▓рпБроорпН роиро╛ро╡рпИ роХро╛роХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН. роХро╛роХрпНроХро╛ро╡ро┐роЯрпНроЯро╛ро▓рпН роЕродрпБ родрпБройрпНрокродрпНродрпИ роПро▒рпНрокроЯрпБродрпНродрпБроорпН.',
    source:'роХрпБро▒ро│рпН 127 тАФ ро╡ро╛ропрпНроорпИ', tags:['speech','truth'],
    gradient_bg:'linear-gradient(160deg,#1a0028 0%,#5C0000 40%,#9E7A2A 100%)',
    likes:534, saves:267 },

  { id:81, type:'image', category:'bakthi',
    title:'роЪро┐ро╡ро╛ройроирпНрод ро▓ро╣ро░ро┐',
    verse:['роХрпИ ро╡ро│ро░рпН роЪроЩрпНроХрпБроорпН роХрооро▓роорпБроорпН роПроирпНродро┐','роРропройрпН ро╡ро░рпБроорпН родро┐ро░рпБ роЕроЯро┐ роиро╛роорпН ро╡ро╛ро┤рпНродрпНродро┐роЯрпБро╡рпЛроорпН'],
    explanation:'роЪроЩрпНроХрпБроорпН родро╛рооро░рпИропрпБроорпН роПроирпНродро┐ ро╡ро░рпБроорпН роРропройрпН родро┐ро░рпБро╡роЯро┐роХро│рпИ роиро╛роорпН ро╡ро╛ро┤рпНродрпНродрпБро╡рпЛроорпН.',
    source:'роЪрпИро╡ рокроХрпНродро┐ рокро╛роЯро▓рпН', tags:['shiva','devotion'],
    gradient_bg:'linear-gradient(160deg,#0D0426 0%,#2D0060 45%,#7B52AB 100%)',
    likes:412, saves:198 },

  { id:82, type:'image', category:'oakkam',
    title:'ро╡рпАро░ ро╡ро╛роХрпНроХро┐ропроорпН',
    verse:['родрпЛро▓рпНро╡ро┐ропрпЗ ро╡рпЖро▒рпНро▒ро┐ропро┐ройрпН родрпКроЯроХрпНроХроорпН','ро╡ро┐роЯро╛роорпБропро▒рпНроЪро┐ропрпЗ ро╡ро╛ро┤рпНро╡ро┐ройрпН ро░роХроЪро┐ропроорпН'],
    explanation:'родрпЛро▓рпНро╡ро┐ропро┐ро▓рпН родрпБро╡рогрпНроЯрпБ рокрпЛроХро╛рооро▓рпН, ро╡ро┐роЯро╛рооро▓рпН роорпБропро▒рпНроЪро┐рокрпНрокро╡ройрпН ро╡рпЖро▒рпНро▒ро┐ рокрпЖро▒рпБро╡ро╛ройрпН.',
    source:'родрооро┐ро┤рпН роКроХрпНроХроорпКро┤ро┐', tags:['perseverance','victory'],
    gradient_bg:'linear-gradient(160deg,#1A0800 0%,#7A3A00 45%,#C9A84C 100%)',
    likes:678, saves:334 },

  { id:83, type:'image', category:'vaazhkai',
    title:'роЗропро▒рпНроХрпИ роЮро╛ройроорпН',
    verse:['роорогрпНрогрпЛроЯрпБ ро╡ро╛ро┤рпНрокро╡ройрпН роорогрпНрогро╛ро╡ро╛ройрпН','рооро▓ро░рпЛроЯрпБ ро╡ро╛ро┤рпНрокро╡ройрпН рооро▓ро░ро╛ро╡ро╛ройрпН'],
    explanation:'ропро╛ро░рпБроЯройрпН роЪрпЗро░рпНроирпНродрпБ ро╡ро╛ро┤рпНроХро┐ро▒рпЛроорпЛ роЕро╡ро░рпНроХро│ро┐ройрпН родройрпНроорпИ роироорпНрооро┐роЯроорпБроорпН ро╡ро░рпБроорпН.',
    source:'родрооро┐ро┤рпН роиро╛роЯрпНроЯрпБрокрпНрокрпБро▒ роорпКро┤ро┐', tags:['nature','wisdom'],
    gradient_bg:'linear-gradient(160deg,#031A03 0%,#1A5A1A 45%,#5A9A3A 100%)',
    likes:389, saves:178 },

  { id:84, type:'image', category:'paadal',
    title:'рокро╛ро░родро┐ропро╛ро░рпН тАФ ро╡рпАро░ роЙрогро░рпНро╡рпБ',
    verse:['роЕроЪрпНроЪрооро┐ро▓рпНро▓рпИ роЕроЪрпНроЪрооро┐ро▓рпНро▓рпИ','роЕроЪрпНроЪроорпЖройрпНрокродро┐ро▓рпНро▓рпИропрпЗ'],
    explanation:'родрооро┐ро┤ройрпБроХрпНроХрпБ роЕроЪрпНроЪрооро┐ро▓рпНро▓рпИ роОройрпНро▒рпБ рокро╛ро░родро┐ропро╛ро░рпН роорпБро┤роЩрпНроХрпБроорпН ро╡рпАро░ роХро╡ро┐родрпИ.',
    source:'роЪрпБрокрпНрокро┐ро░роорогро┐роп рокро╛ро░родро┐', tags:['bharati','courage','freedom'],
    gradient_bg:'linear-gradient(160deg,#0A1A2A 0%,#1A3A6A 45%,#3A6A9A 100%)',
    likes:723, saves:356 },

  { id:85, type:'image', category:'kural',
    title:'роЕройрпНрокро┐ройрпН роЖро▒рпНро▒ро▓рпН',
    verse:['роЕройрпНрокро┐ройрпН ро╡ро┤ро┐ропродрпБ роЙропро┐ро░рпНроиро┐ро▓рпИ','роЕроГродро┐ро▓ро╛ро░рпНроХрпНроХрпБ роОройрпНрокрпБ родрпЛро▓рпН рокрпЛро░рпНродрпНрод роЙроЯроорпНрокрпБ'],
    explanation:'роЕройрпНрокрпБро│рпНро│ро╡ро░рпБроХрпНроХрпЗ роЙропро┐ро░рпН роЗро░рпБроХрпНроХро┐ро▒родрпБ. роЕройрпНрокро▒рпНро▒ро╡ро░рпН роОро▓рпБроорпНрокрпБроорпН родрпЛро▓рпБроорпН роороЯрпНроЯрпБроорпЗ.',
    source:'роХрпБро▒ро│рпН 80 тАФ роЕройрпНрокрпБроЯрпИроорпИ', tags:['love','life'],
    gradient_bg:'linear-gradient(160deg,#3A0010 0%,#7B0030 45%,#C9A84C 100%)',
    likes:891, saves:445 },

  /* тФАтФА Additional KURAL (featured) тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
  { id:71, type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['роЪрпЖро▓рпНро╡родрпНродрпБроЯрпН роЪрпЖро▓рпНро╡роорпН роЪрпЖро╡ро┐роЪрпНроЪрпЖро▓рпНро╡роорпН','роЕроЪрпНроЪрпЖро▓рпНро╡роорпН роЪрпЖро▓рпНро╡родрпНродрпБро│рпН роОро▓рпНро▓ро╛роорпН родро▓рпИ'],
    explanation:'роЪрпЖро▓рпНро╡роЩрпНроХро│рпБро│рпН роЪро┐ро▒роирпНрод роЪрпЖро▓рпНро╡роорпН роХрпЗроЯрпНроХрпБроорпН роЖро▒рпНро▒ро▓рпН. роЕроЪрпНроЪрпЖро▓рпНро╡роорпЗ роОро▓рпНро▓ро╛ роЪрпЖро▓рпНро╡роЩрпНроХро│ро┐ро▓рпБроорпН роорпЗро▓ро╛ройродрпБ.',
    source:'родро┐ро░рпБро╡ро│рпНро│рпБро╡ро░рпН тАФ роХрпБро▒ро│рпН 411', tags:['wisdom','wealth','knowledge'], likes:234, saves:117 },

  { id:72, type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['рооройродрпНродрпКроЯрпБ ро╡ро╛ропрпНроорпИ роорпКро┤ро┐ропро┐ройрпН родро╡роорпН','ро╡ро╛ропрпНроорпКро┤ро┐ ро╡рпЗрогрпНроЯро╛ родро╡роорпН'],
    explanation:'рооройродрпНродро┐ро▓рпН роЗро░рпБрокрпНрокродрпИропрпЗ ро╡ро╛ропро╛ро▓рпБроорпН роЪрпКро▓рпНро╡родрпЗ роЙрогрпНроорпИропро╛рой родро╡роорпН; ро╡рпЗро▒рпБ родро╡роорпН роЪрпЖропрпНроп ро╡рпЗрогрпНроЯро┐ропродро┐ро▓рпНро▓рпИ.',
    source:'родро┐ро░рпБро╡ро│рпНро│рпБро╡ро░рпН тАФ роХрпБро▒ро│рпН 294', tags:['honesty','meditation'], likes:189, saves:95 },

  { id:73, type:'text', category:'kural',
    title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН',
    verse:['родрпКроЯроЩрпНроХро▓рпН роорпБроЯро┐ро╡рпБроорпН роОропрпНродрпБроорпН роТро░рпБро╡ро░рпН','рокроЯро┐роорпИропрпБроЯрпИропро╛ро░рпН роОройрпНро▒рпБ рокроЯрпБроорпН'],
    explanation:'родрпБро╡роЩрпНроХро┐ропродрпИ роорпБроЯро┐рокрпНрокро╡ро░рпЗ роЙрогрпНроорпИропро╛рой родроХрпБродро┐ропрпБроЯрпИропрпЛро░рпН роОройрпНро▒рпБ роЪрпКро▓рпНро▓рокрпНрокроЯрпБро╡ро░рпН.',
    source:'родро┐ро░рпБро╡ро│рпНро│рпБро╡ро░рпН тАФ роХрпБро▒ро│рпН 680', tags:['perseverance','completion'], likes:267, saves:134 },

  /* тФАтФА ARCHITECTURE (Tamil Temples) тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
  { id:90, type:'image', category:'architecture',
    title:"рооро╛рооро▓рпНро▓рокрпБро░роорпН роХроЯро▒рпНроХро░рпИ роХрпЛропро┐ро▓рпН",
    verse:["рооро╛рооро▓рпНро▓рокрпБро░роорпН роХроЯро▒рпНроХро░рпИ роХрпЛропро┐ро▓рпН - рокро▓рпНро▓ро╡ро░рпН роХро╛ро▓ роХроЯрпНроЯро┐роЯроХрпНроХро▓рпИропро┐ройрпН роЙройрпН"],
    explanation:"рооро╛рооро▓рпНро▓рокрпБро░роорпН роХроЯро▒рпНроХро░рпИ роХрпЛропро┐ро▓рпН - рокро▓рпНро▓ро╡ро░рпН роХро╛ро▓ роХроЯрпНроЯро┐роЯроХрпНроХро▓рпИропро┐ройрпН роЙройрпНройродроорпН. роХро┐.рокро┐. 8роЖроорпН роирпВро▒рпНро▒ро╛рогрпНроЯро┐ро▓рпН роЗро░ро╛роЬроЪро┐роорпНроо рокро▓рпНро▓ро╡ройро╛ро▓рпН роХроЯрпНроЯрокрпНрокроЯрпНроЯ роЗроирпНродроХрпН роХрпЛропро┐ро▓рпН, роХро┐ро░ро╛ройрпИроЯрпН роХро▒рпНроХро│ро╛ро▓рпН роЕроорпИроХрпНроХрокрпНрокроЯрпНроЯ роЕро▒рпНрокрпБродрооро╛рой роЕроорпИрокрпНрокрпБ. ропрпБройрпЖро╕рпНроХрпЛ роЙро▓роХ рокро╛ро░роорпНрокро░ро┐роп роЪро┐ройрпНройроорпН.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Shore_Temple_Mamallapuram.jpg/800px-Shore_Temple_Mamallapuram.jpg",
    source:"рооро╛рооро▓рпНро▓рокрпБро░роорпН роХроЯро▒рпНроХро░рпИ роХрпЛропро┐ро▓рпН",
    tags:["architecture", "tamilnadu", "heritage"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#4A2000 45%,#8B5A2B 100%)",
    likes:347, saves:115 },

  { id:91, type:'image', category:'architecture',
    title:"родроЮрпНроЪрпИрокрпН рокрпЖро░ро┐роп роХрпЛропро┐ро▓рпН",
    verse:["родроЮрпНроЪрпИрокрпН рокрпЖро░ро┐роп роХрпЛропро┐ро▓рпН - роЪрпЛро┤ро░рпНроХро│ро┐ройрпН роХроЯрпНроЯро┐роЯроХрпНроХро▓рпИроЪрпН роЪро┐ро▒рокрпНрокро┐ройрпН роЪро┐роХро░роорпН"],
    explanation:"родроЮрпНроЪрпИрокрпН рокрпЖро░ро┐роп роХрпЛропро┐ро▓рпН - роЪрпЛро┤ро░рпНроХро│ро┐ройрпН роХроЯрпНроЯро┐роЯроХрпНроХро▓рпИроЪрпН роЪро┐ро▒рокрпНрокро┐ройрпН роЪро┐роХро░роорпН. роХро┐.рокро┐. 1010-ро▓рпН роЗро░ро╛роЬро░ро╛роЬ роЪрпЛро┤ройро╛ро▓рпН роХроЯрпНроЯрокрпНрокроЯрпНроЯ роЗроирпНродроХрпН роХрпЛропро┐ро▓рпН, 216 роЕроЯро┐ роЙропро░ ро╡ро┐рооро╛ройродрпНродрпБроЯройрпН родро┐роХро┤рпНроХро┐ро▒родрпБ. ропрпБройрпЖро╕рпНроХрпЛ роЙро▓роХ рокро╛ро░роорпНрокро░ро┐роп роЪро┐ройрпНройроорпН.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Brihadeeswara_Temple_Thanjavur.jpg/800px-Brihadeeswara_Temple_Thanjavur.jpg",
    source:"родроЮрпНроЪрпИрокрпН рокрпЖро░ро┐роп роХрпЛропро┐ро▓рпН",
    tags:["architecture", "chola", "heritage"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#4A2000 45%,#8B5A2B 100%)",
    likes:441, saves:147 },

  { id:92, type:'image', category:'architecture',
    title:"роородрпБро░рпИ роорпАройро╛роЯрпНроЪро┐ роЕроорпНрооройрпН роХрпЛропро┐ро▓рпН",
    verse:["роородрпБро░рпИ роорпАройро╛роЯрпНроЪро┐ роЕроорпНрооройрпН роХрпЛропро┐ро▓рпН - родро┐ро░ро╛ро╡ро┐роЯроХрпН роХроЯрпНроЯро┐роЯроХрпНроХро▓рпИропро┐ройрпН роЪро┐ро▒роирпНрод роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ"],
    explanation:"роородрпБро░рпИ роорпАройро╛роЯрпНроЪро┐ роЕроорпНрооройрпН роХрпЛропро┐ро▓рпН - рокро╛рогрпНроЯро┐ропро░рпН роХро╛ро▓родрпНродро┐ро▓рпН роХроЯрпНроЯрокрпНрокроЯрпНроЯ родро┐ро░ро╛ро╡ро┐роЯроХрпН роХроЯрпНроЯро┐роЯроХрпНроХро▓рпИропро┐ройрпН роЪро┐ро▒роирпНрод роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ. 14 роХрпЛрокрпБро░роЩрпНроХро│рпИроХрпН роХрпКрогрпНроЯ роЗроирпНродроХрпН роХрпЛропро┐ро▓ро┐ройрпН родрпЖро▒рпНроХрпБроХрпН роХрпЛрокрпБро░роорпН 170 роЕроЯро┐ роЙропро░роорпН роХрпКрогрпНроЯродрпБ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/97/Meenakshi_Amman_Temple.jpg/800px-Meenakshi_Amman_Temple.jpg",
    source:"роородрпБро░рпИ роорпАройро╛роЯрпНроЪро┐ роЕроорпНрооройрпН роХрпЛропро┐ро▓рпН",
    tags:["architecture", "pandya", "heritage"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#4A2000 45%,#8B5A2B 100%)",
    likes:535, saves:178 },

  { id:93, type:'image', category:'architecture',
    title:"ро╕рпНро░рпАро░роЩрпНроХроорпН роЕро░роЩрпНроХроиро╛родроЪрпБро╡ро╛рооро┐ роХрпЛропро┐ро▓рпН",
    verse:["роЙро▓роХро┐ройрпН рооро┐роХрокрпНрокрпЖро░ро┐роп роЗроирпНродрпБроХрпН роХрпЛропро┐ро▓рпН ро╡ро│ро╛роХроорпН тАФ ро╕рпНро░рпАро░роЩрпНроХроорпН"],
    explanation:"ро╕рпНро░рпАро░роЩрпНроХроорпН роЕро░роЩрпНроХроиро╛родроЪрпБро╡ро╛рооро┐ роХрпЛропро┐ро▓рпН - роЙро▓роХро┐ройрпН рооро┐роХрокрпНрокрпЖро░ро┐роп роЗроирпНродрпБроХрпН роХрпЛропро┐ро▓рпН ро╡ро│ро╛роХроорпН. роХро╛ро╡рпЗро░ро┐ роЖро▒рпНро▒ро┐ройрпН роородрпНродро┐ропро┐ро▓рпН роЕроорпИроирпНродрпБро│рпНро│ роЗроХрпНроХрпЛропро┐ро▓рпН, 156 роПроХрпНроХро░рпН рокро░рокрпНрокро│ро╡ро┐ро▓рпН ро╡ро┐ро░ро┐роирпНродрпБро│рпНро│родрпБ. 21 роХрпЛрокрпБро░роЩрпНроХро│рпН роХрпКрогрпНроЯродрпБ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Srirangam_Temple_Gopuram.jpg/800px-Srirangam_Temple_Gopuram.jpg",
    source:"ро╕рпНро░рпАро░роЩрпНроХроорпН роЕро░роЩрпНроХроиро╛родроЪрпБро╡ро╛рооро┐ роХрпЛропро┐ро▓рпН",
    tags:["architecture", "vaishnava", "heritage"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#4A2000 45%,#8B5A2B 100%)",
    likes:629, saves:209 },

  { id:94, type:'image', category:'architecture',
    title:"роХроЩрпНроХрпИроХрпКрогрпНроЯ роЪрпЛро┤рокрпБро░роорпН роХрпЛропро┐ро▓рпН",
    verse:["роХроЩрпНроХрпИроХрпКрогрпНроЯ роЪрпЛро┤рокрпБро░роорпН - роЗро░ро╛роЬрпЗроирпНродро┐ро░ роЪрпЛро┤ройро╛ро▓рпН роХроЯрпНроЯрокрпНрокроЯрпНроЯ роЪрпЛро┤ро░рпН роХроЯрпНроЯро┐роЯроХрпНроХро▓рпИропро┐ройрпН роЕродро┐роЪропроорпН"],
    explanation:"роХроЩрпНроХрпИроХрпКрогрпНроЯ роЪрпЛро┤рокрпБро░роорпН роХрпЛропро┐ро▓рпН - роЗро░ро╛роЬрпЗроирпНродро┐ро░ роЪрпЛро┤ройро╛ро▓рпН роХроЯрпНроЯрокрпНрокроЯрпНроЯ роЪрпЛро┤ро░рпН роХро╛ро▓роХрпН роХроЯрпНроЯро┐роЯроХрпНроХро▓рпИропро┐ройрпН роЕродро┐роЪропроорпН. ро╡ро┐рооро╛ройроорпН 170 роЕроЯро┐ роЙропро░роорпН роХрпКрогрпНроЯродрпБ. ропрпБройрпЖро╕рпНроХрпЛ роЙро▓роХ рокро╛ро░роорпНрокро░ро┐роп роЪро┐ройрпНройрооро╛рой рокрпЖро░ро┐роп роХрпЛропро┐ро▓рпНроХро│рпН ро╡ро░ро┐роЪрпИропро┐ро▓рпН роЗродрпБро╡рпБроорпН роТройрпНро▒рпБ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Gangaikonda_Cholapuram_Temple.jpg/800px-Gangaikonda_Cholapuram_Temple.jpg",
    source:"роХроЩрпНроХрпИроХрпКрогрпНроЯ роЪрпЛро┤рокрпБро░роорпН роХрпЛропро┐ро▓рпН",
    tags:["architecture", "chola", "heritage"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#4A2000 45%,#8B5A2B 100%)",
    likes:723, saves:241 },

  { id:95, type:'image', category:'architecture',
    title:"родро╛ро░ро╛роЪрпБро░роорпН роРро░ро╛ро╡родрпЗро╕рпНро╡ро░ро░рпН роХрпЛропро┐ро▓рпН",
    verse:["родро╛ро░ро╛роЪрпБро░роорпН роРро░ро╛ро╡родрпЗро╕рпНро╡ро░ро░рпН роХрпЛропро┐ро▓рпН - роЪрпЛро┤ро░рпН роХро╛ро▓роХрпН роХроЯрпНроЯро┐роЯроХрпНроХро▓рпИропро┐ройрпН рооро▒рпНро▒рпКро░рпБ роЕродро┐роЪропроорпН"],
    explanation:"родро╛ро░ро╛роЪрпБро░роорпН роРро░ро╛ро╡родрпЗро╕рпНро╡ро░ро░рпН роХрпЛропро┐ро▓рпН - роЗро░рогрпНроЯро╛роорпН роЗро░ро╛роЬро░ро╛роЬ роЪрпЛро┤ройро╛ро▓рпН роХроЯрпНроЯрокрпНрокроЯрпНроЯ роЪрпЛро┤ро░рпН роХро╛ро▓роХрпН роХроЯрпНроЯро┐роЯроХрпНроХро▓рпИропро┐ройрпН роЕродро┐роЪропроорпН. роЗроЩрпНроХрпБро│рпНро│ родрпЗро░рпН рокрпЛройрпНро▒ роЕроорпИрокрпНрокро┐ро▓рпН роЕроорпИроирпНрод роорогрпНроЯрокроорпН рооро┐роХро╡рпБроорпН рокро┐ро░рокро▓рооро╛ройродрпБ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Airavatesvara_Temple.jpg/800px-Airavatesvara_Temple.jpg",
    source:"родро╛ро░ро╛роЪрпБро░роорпН роРро░ро╛ро╡родрпЗро╕рпНро╡ро░ро░рпН роХрпЛропро┐ро▓рпН",
    tags:["architecture", "chola", "heritage"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#4A2000 45%,#8B5A2B 100%)",
    likes:394, saves:131 },

  { id:96, type:'image', category:'architecture',
    title:"ро░ро╛роорпЗро╕рпНро╡ро░роорпН ро░ро╛роороиро╛родроЪрпБро╡ро╛рооро┐ роХрпЛропро┐ро▓рпН",
    verse:["ро░ро╛роорпЗро╕рпНро╡ро░роорпН ро░ро╛роороиро╛родроЪрпБро╡ро╛рооро┐ роХрпЛропро┐ро▓рпН тАФ роЙро▓роХро┐ройрпН рооро┐роХ роирпАро│рооро╛рой родро┐ро░рпБроХрпНроХрпБро│роорпН"],
    explanation:"ро░ро╛роорпЗро╕рпНро╡ро░роорпН ро░ро╛роороиро╛родроЪрпБро╡ро╛рооро┐ роХрпЛропро┐ро▓рпН - рокрпБроХро┤рпНрокрпЖро▒рпНро▒ родрпЖрокрпНрокроХрпНроХрпБро│роорпН рооро▒рпНро▒рпБроорпН роирпАрогрпНроЯ родро┐ро░рпБроХрпНроХрпБро│роорпН роХрпКрогрпНроЯ родро┐ро░ро╛ро╡ро┐роЯроХрпН роХроЯрпНроЯро┐роЯроХрпНроХро▓рпИропро┐ройрпН роЪро┐ро▒рокрпНрокроорпНроЪроорпН. роЗроХрпНроХрпЛропро┐ро▓ро┐ройрпН роорпВройрпНро▒ро╛ро╡родрпБ рокро┐ро░роХро╛ро░роорпН роЙро▓роХро┐ройрпН рооро┐роХ роирпАро│рооро╛рой родро┐ро░рпБроХрпНроХрпБро│рооро╛роХрпБроорпН - 1219 роорпАроЯрпНроЯро░рпН.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Ramanathaswamy_Temple.jpg/800px-Ramanathaswamy_Temple.jpg",
    source:"ро░ро╛роорпЗро╕рпНро╡ро░роорпН ро░ро╛роороиро╛родроЪрпБро╡ро╛рооро┐ роХрпЛропро┐ро▓рпН",
    tags:["architecture", "tamilnadu", "heritage"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#4A2000 45%,#8B5A2B 100%)",
    likes:488, saves:162 },

  { id:97, type:'image', category:'architecture',
    title:"роЪрпЖройрпНройрпИ роХрокро╛ро▓рпАро╕рпНро╡ро░ро░рпН роХрпЛропро┐ро▓рпН",
    verse:["роЪрпЖройрпНройрпИ роХрокро╛ро▓рпАро╕рпНро╡ро░ро░рпН роХрпЛропро┐ро▓рпН - рооропро┐ро▓ро╛рокрпНрокрпВро░ро┐ройрпН рокрпБроХро┤рпНрокрпЖро▒рпНро▒ роЪро┐ро╡ройрпН роХрпЛропро┐ро▓рпН"],
    explanation:"роЪрпЖройрпНройрпИ роХрокро╛ро▓рпАро╕рпНро╡ро░ро░рпН роХрпЛропро┐ро▓рпН - рооропро┐ро▓ро╛рокрпНрокрпВро░ро┐ро▓рпН роЕроорпИроирпНродрпБро│рпНро│ рокрпБроХро┤рпНрокрпЖро▒рпНро▒ роЪро┐ро╡ройрпН роХрпЛропро┐ро▓рпН. 7роЖроорпН роирпВро▒рпНро▒ро╛рогрпНроЯро┐ро▓рпН рокро▓рпНро▓ро╡ро░рпНроХро│ро╛ро▓рпН роХроЯрпНроЯрокрпНрокроЯрпНроЯ роЗроХрпНроХрпЛропро┐ро▓рпН, рокро┐ройрпНройро░рпН 16роЖроорпН роирпВро▒рпНро▒ро╛рогрпНроЯро┐ро▓рпН ро╡ро┐роЬропроироХро░ рооройрпНройро░рпНроХро│ро╛ро▓рпН рокрпБродрпБрокрпНрокро┐роХрпНроХрокрпНрокроЯрпНроЯродрпБ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/81/Kapaleeswarar_Temple.jpg/800px-Kapaleeswarar_Temple.jpg",
    source:"роЪрпЖройрпНройрпИ роХрокро╛ро▓рпАро╕рпНро╡ро░ро░рпН роХрпЛропро┐ро▓рпН",
    tags:["architecture", "chennai", "heritage"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#4A2000 45%,#8B5A2B 100%)",
    likes:582, saves:194 },

  { id:98, type:'image', category:'architecture',
    title:"родро┐ро░рпБро╡ро╛ройрпИроХрпНроХро╛ роЬроорпНрокрпБроХрпЗро╕рпНро╡ро░ро░рпН роХрпЛропро┐ро▓рпН",
    verse:["родро┐ро░рпБро╡ро╛ройрпИроХрпНроХро╛ роЬроорпНрокрпБроХрпЗро╕рпНро╡ро░ро░рпН роХрпЛропро┐ро▓рпН - рокроЮрпНроЪрокрпВрод ро╕рпНродро▓роЩрпНроХро│ро┐ро▓рпН роирпАро░рпН родро▓роорпН"],
    explanation:"родро┐ро░рпБро╡ро╛ройрпИроХрпНроХро╛ роЬроорпНрокрпБроХрпЗро╕рпНро╡ро░ро░рпН роХрпЛропро┐ро▓рпН - рокроЮрпНроЪрокрпВрод ро╕рпНродро▓роЩрпНроХро│ро┐ро▓рпН роирпАро░рпН родро▓рооро╛роХрокрпН рокрпЛро▒рпНро▒рокрпНрокроЯрпБро╡родрпБ. родро┐ро░рпБроЪрпНроЪро┐ро░ро╛рокрпНрокро│рпНро│ро┐ роЕро░рпБроХрпЗ роЙро│рпНро│ роЗроХрпНроХрпЛропро┐ро▓рпН, роЕрокрпНрокро░рпН, роЪрпБроирпНродро░ро░рпН, родро┐ро░рпБроЮро╛ройроЪроорпНрокроирпНродро░рпН роЖроХро┐роп роорпВро╡ро░ро╛ро▓рпБроорпН рокро╛роЯро▓рпН рокрпЖро▒рпНро▒родрпБ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Thiruvanaikaval_Temple.jpg/800px-Thiruvanaikaval_Temple.jpg",
    source:"родро┐ро░рпБро╡ро╛ройрпИроХрпНроХро╛ роЬроорпНрокрпБроХрпЗро╕рпНро╡ро░ро░рпН роХрпЛропро┐ро▓рпН",
    tags:["architecture", "shaiva", "heritage"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#4A2000 45%,#8B5A2B 100%)",
    likes:347, saves:115 },

  { id:99, type:'image', category:'architecture',
    title:"роЪро┐родроорпНрокро░роорпН родро┐ро▓рпНро▓рпИ роироЯро░ро╛роЬро░рпН роХрпЛропро┐ро▓рпН",
    verse:["роЪро┐родроорпНрокро░роорпН родро┐ро▓рпНро▓рпИ роироЯро░ро╛роЬро░рпН роХрпЛропро┐ро▓рпН тАФ роироЯро░ро╛роЬро░ро┐ройрпН роЖройроирпНрод родро╛рогрпНроЯро╡родрпНродро┐ро▒рпНроХрпБ рокрпБроХро┤рпНрокрпЖро▒рпНро▒ родро▓роорпН"],
    explanation:"роЪро┐родроорпНрокро░роорпН родро┐ро▓рпНро▓рпИ роироЯро░ро╛роЬро░рпН роХрпЛропро┐ро▓рпН - роЖроХро╛ропроорпН роОройрокрпНрокроЯрпБроорпН рокроЮрпНроЪрокрпВрод ро╕рпНродро▓роЩрпНроХро│ро┐ро▓рпН роТройрпНро▒рпБ. роироЯро░ро╛роЬро░ро┐ройрпН роЖройроирпНрод родро╛рогрпНроЯро╡родрпНродро┐ро▒рпНроХрпБ рокрпБроХро┤рпНрокрпЖро▒рпНро▒ роЗроХрпНроХрпЛропро┐ро▓рпН, 9 ро╡ро╛ропро┐ро▓рпНроХро│рпИроХрпН роХрпКрогрпНроЯродрпБ. роХрпЛропро┐ро▓рпН роорпБро┤рпБро╡родрпБроорпН 108 роХро░рог роЪро┐ро▒рпНрокроЩрпНроХро│рпН роЪрпЖродрпБроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│рой.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Chidambaram_Temple.jpg/800px-Chidambaram_Temple.jpg",
    source:"роЪро┐родроорпНрокро░роорпН родро┐ро▓рпНро▓рпИ роироЯро░ро╛роЬро░рпН роХрпЛропро┐ро▓рпН",
    tags:["architecture", "shaiva", "heritage"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#4A2000 45%,#8B5A2B 100%)",
    likes:676, saves:225 },

  /* тФАтФА TEMPLE ART тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
  { id:100, type:'image', category:'temple_art',
    title:"родроЮрпНроЪро╛ро╡рпВро░рпН роУро╡ро┐ропроорпН",
    verse:["родроЮрпНроЪро╛ро╡рпВро░рпН роУро╡ро┐ропроорпН - родрооро┐ро┤рпНроиро╛роЯрпНроЯро┐ройрпН рокро╛ро░роорпНрокро░ро┐роп роУро╡ро┐ропроХрпН роХро▓рпИропро┐ройрпН роЪро┐ро▒роирпНрод роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ"],
    explanation:"родроЮрпНроЪро╛ро╡рпВро░рпН роУро╡ро┐ропроорпН - родрооро┐ро┤рпНроиро╛роЯрпНроЯро┐ройрпН рокро╛ро░роорпНрокро░ро┐роп роУро╡ро┐ропроХрпН роХро▓рпИропро┐ройрпН роЪро┐ро▒роирпНрод роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ. 16роЖроорпН роирпВро▒рпНро▒ро╛рогрпНроЯро┐ро▓рпН родроЮрпНроЪрпИ роиро╛ропроХрпНроХро░рпНроХро│рпН роХро╛ро▓родрпНродро┐ро▓рпН родрпЛройрпНро▒ро┐роп роЗроХрпНроХро▓рпИ, родроЩрпНроХродрпН родроХроЯрпБроХро│рпН, ро╡ро┐ро▓рпИропрпБропро░рпНроирпНрод роХро▒рпНроХро│рпН рокродро┐родрпНрод роУро╡ро┐ропроЩрпНроХро│ро╛роХ ро╡ро┐ро│роЩрпНроХрпБроХро┐ройрпНро▒рой.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Thanjavur_Painting.jpg/800px-Thanjavur_Painting.jpg",
    source:"родроЮрпНроЪро╛ро╡рпВро░рпН роУро╡ро┐ропроорпН",
    tags:["temple_art", "thanjavur", "heritage"],
    gradient_bg:"linear-gradient(160deg,#0A0A1A 0%,#2A1A5A 45%,#7B52AB 100%)",
    likes:535, saves:178 },

  { id:101, type:'image', category:'temple_art',
    title:"роЪрпЛро┤ро░рпН ро╡рпЖрогрпНроХро▓роЪрпН роЪро┐ро▓рпИроХро│рпН",
    verse:["роЪрпЛро┤ро░рпН ро╡рпЖрогрпНроХро▓роЪрпН роЪро┐ро▓рпИроХро│рпН - роЙро▓роХрокрпН рокрпБроХро┤рпН рокрпЖро▒рпНро▒ родрооро┐ро┤ро░рпН роХро▓рпИрокрпНрокрпКро░рпБроЯрпНроХро│рпН"],
    explanation:"роЪрпЛро┤ро░рпН ро╡рпЖрогрпНроХро▓роЪрпН роЪро┐ро▓рпИроХро│рпН - роЙро▓роХрокрпН рокрпБроХро┤рпН рокрпЖро▒рпНро▒ родрооро┐ро┤ро░рпН роХро▓рпИрокрпНрокрпКро░рпБроЯрпНроХро│рпН. роЪрпЛро┤ро░рпН роХро╛ро▓родрпНродро┐ро▓рпН (роХро┐.рокро┐. 9-13) роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯ роЗроирпНрод ро╡рпЖрогрпНроХро▓роЪрпН роЪро┐ро▓рпИроХро│рпН, роорпЖро┤рпБроХрпБ ро╡ро╛ро░рпНрокрпНрокрпБ роорпБро▒рпИропро┐ро▓рпН роЪрпЖропрпНропрокрпНрокроЯрпНроЯро╡рпИ. роироЯро░ро╛роЬро░рпН роЪро┐ро▓рпИ роЗро╡ро▒рпНро▒ро┐ро▓рпН рооро┐роХро╡рпБроорпН рокрпБроХро┤рпНрокрпЖро▒рпНро▒родрпБ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/68/Nataraja_Chola_Bronze.jpg/800px-Nataraja_Chola_Bronze.jpg",
    source:"роЪрпЛро┤ро░рпН ро╡рпЖрогрпНроХро▓роЪрпН роЪро┐ро▓рпИроХро│рпН",
    tags:["temple_art", "chola", "heritage"],
    gradient_bg:"linear-gradient(160deg,#0A0A1A 0%,#2A1A5A 45%,#7B52AB 100%)",
    likes:629, saves:209 },

  /* тФАтФА FESTIVALS тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
  { id:102, type:'image', category:'festival',
    title:"родрооро┐ро┤ро░рпН родро┐ро░рпБроиро╛ро│рпН рокрпКроЩрпНроХро▓рпН",
    verse:["родрооро┐ро┤ро░рпН родро┐ро░рпБроиро╛ро│рпН рокрпКроЩрпНроХро▓рпН - родрооро┐ро┤ро░рпНроХро│ро┐ройрпН роорпБроХрпНроХро┐ропрооро╛рой роЕро▒рпБро╡роЯрпИродрпН родро┐ро░рпБро╡ро┐ро┤ро╛"],
    explanation:"родрооро┐ро┤ро░рпН родро┐ро░рпБроиро╛ро│рпН рокрпКроЩрпНроХро▓рпН - родрооро┐ро┤ро░рпНроХро│ро┐ройрпН роорпБроХрпНроХро┐ропрооро╛рой роЕро▒рпБро╡роЯрпИродрпН родро┐ро░рпБро╡ро┐ро┤ро╛. роЬройро╡ро░ро┐ рооро╛родроорпН роироЯрпИрокрпЖро▒рпБроорпН роЗроирпНрод роиро╛ройрпНроХрпБ роиро╛ро│рпН родро┐ро░рпБро╡ро┐ро┤ро╛, роЪрпВро░ро┐ропройрпБроХрпНроХрпБ роиройрпНро▒ро┐ родрпЖро░ро┐ро╡ро┐роХрпНроХрпБроорпН ро╡ро┐родрооро╛роХ роХрпКрогрпНроЯро╛роЯрокрпНрокроЯрпБроХро┐ро▒родрпБ. рокрпЛроХро┐, родрпИрокрпНрокрпКроЩрпНроХро▓рпН, рооро╛роЯрпНроЯрпБрокрпНрокрпКроЩрпНроХро▓рпН, роХро╛рогрпБроорпН рокрпКроЩрпНроХро▓рпН роОрой роТро╡рпНро╡рпКро░рпБ роиро╛ро│рпБроорпН родройро┐роЪрпНроЪро┐ро▒рокрпНрокрпБ ро╡ро╛ропрпНроирпНродро╡рпИ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Pongal_Pot.jpg/800px-Pongal_Pot.jpg",
    source:"родрооро┐ро┤ро░рпН родро┐ро░рпБроиро╛ро│рпН рокрпКроЩрпНроХро▓рпН",
    tags:["festival", "tamilnadu", "culture"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#8A2A00 45%,#C9A84C 100%)",
    likes:723, saves:241 },

  { id:103, type:'image', category:'festival',
    title:"роородрпБро░рпИ роЪро┐родрпНродро┐ро░рпИродрпН родро┐ро░рпБро╡ро┐ро┤ро╛",
    verse:["роородрпБро░рпИ роЪро┐родрпНродро┐ро░рпИродрпН родро┐ро░рпБро╡ро┐ро┤ро╛ - роорпАройро╛роЯрпНроЪро┐ родро┐ро░рпБроХрпНроХро▓рпНропро╛рогродрпНродрпИ роорпБройрпНройро┐роЯрпНроЯрпБ роироЯрпИрокрпЖро▒рпБроорпН ро╡ро┐ро┤ро╛"],
    explanation:"роородрпБро░рпИ роЪро┐родрпНродро┐ро░рпИродрпН родро┐ро░рпБро╡ро┐ро┤ро╛ - роородрпБро░рпИ роорпАройро╛роЯрпНроЪро┐ роЪрпБроирпНродро░рпЗроЪрпБро╡ро░ро░рпН родро┐ро░рпБроХрпНроХро▓рпНропро╛рогродрпНродрпИ роорпБройрпНройро┐роЯрпНроЯрпБ роироЯрпИрокрпЖро▒рпБроорпН ро╡ро┐рооро░рпНроЪрпИропро╛рой ро╡ро┐ро┤ро╛. роПрокрпНро░ро▓рпН-роорпЗ рооро╛родроЩрпНроХро│ро┐ро▓рпН роироЯрпИрокрпЖро▒рпБроорпН роЗроирпНрод роТро░рпБ рооро╛род ро╡ро┐ро┤ро╛ро╡ро┐ро▓рпН ро▓роЯрпНроЪроХрпНроХрогроХрпНроХро╛рой рокроХрпНродро░рпНроХро│рпН роХро▓роирпНродрпБ роХрпКро│рпНро╡ро░рпН.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/Chithirai_Festival.jpg/800px-Chithirai_Festival.jpg",
    source:"роородрпБро░рпИ роЪро┐родрпНродро┐ро░рпИродрпН родро┐ро░рпБро╡ро┐ро┤ро╛",
    tags:["festival", "madurai", "culture"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#8A2A00 45%,#C9A84C 100%)",
    likes:817, saves:272 },

  { id:104, type:'image', category:'festival',
    title:"роХро╛ро░рпНродрпНродро┐роХрпИ родрпАрокроорпН",
    verse:["роХро╛ро░рпНродрпНродро┐роХрпИ родрпАрокроорпН - родрооро┐ро┤рпНроиро╛роЯрпНроЯро┐ро▓рпН рооро┐роХро╡рпБроорпН рокро┐ро░рокро▓рооро╛рой ро╡ро┐ро│роХрпНроХрпБродрпН родро┐ро░рпБро╡ро┐ро┤ро╛"],
    explanation:"роХро╛ро░рпНродрпНродро┐роХрпИ родрпАрокроорпН - родрооро┐ро┤рпНроиро╛роЯрпНроЯро┐ро▓рпН рооро┐роХро╡рпБроорпН рокро┐ро░рокро▓рооро╛рой ро╡ро┐ро│роХрпНроХрпБродрпН родро┐ро░рпБро╡ро┐ро┤ро╛. роРрокрпНрокроЪро┐ рооро╛родроорпН роХро╛ро░рпНродрпНродро┐роХрпИ роироЯрпНроЪродрпНродро┐ро░родрпНродройрпНро▒рпБ роХрпКрогрпНроЯро╛роЯрокрпНрокроЯрпБроорпН роЗродрпНродро┐ро░рпБро╡ро┐ро┤ро╛ро╡ро┐ро▓рпН, ро╡рпАроЯрпБроХро│рпН, роХрпЛропро┐ро▓рпНроХро│рпН роОроЩрпНроХрпБроорпН роЕроХро▓рпН ро╡ро┐ро│роХрпНроХрпБроХро│рпН роПро▒рпНро▒рокрпНрокроЯрпБроХро┐ройрпНро▒рой.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Karthigai_Deepam.jpg/800px-Karthigai_Deepam.jpg",
    source:"роХро╛ро░рпНродрпНродро┐роХрпИ родрпАрокроорпН",
    tags:["festival", "tamilnadu", "culture"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#8A2A00 45%,#C9A84C 100%)",
    likes:488, saves:162 },

  { id:105, type:'image', category:'festival',
    title:"роиро╡ро░ро╛родрпНродро┐ро░ро┐ роХрпЛро▓рпБ",
    verse:["роиро╡ро░ро╛родрпНродро┐ро░ро┐ роХрпЛро▓рпБ - родрооро┐ро┤роХродрпНродро┐ро▓рпН рокрпЖрогрпНроХро│ро╛ро▓рпН роЪро┐ро▒рокрпНрокро╛роХ роХрпКрогрпНроЯро╛роЯрокрпНрокроЯрпБроорпН роТройрпНрокродрпБ роиро╛ро│рпН ро╡ро┐ро┤ро╛"],
    explanation:"роиро╡ро░ро╛родрпНродро┐ро░ро┐ роХрпЛро▓рпБ - родрооро┐ро┤роХродрпНродро┐ро▓рпН рокрпЖрогрпНроХро│ро╛ро▓рпН роЪро┐ро▒рокрпНрокро╛роХ роХрпКрогрпНроЯро╛роЯрокрпНрокроЯрпБроорпН роТройрпНрокродрпБ роиро╛ро│рпН ро╡ро┐ро┤ро╛. рокрпБро░роЯрпНроЯро╛роЪро┐ рооро╛родродрпНродро┐ро▓рпН роироЯрпИрокрпЖро▒рпБроорпН роЗро╡рпНро╡ро┐ро┤ро╛ро╡ро┐ро▓рпН, ро╡рпАроЯрпБроХро│ро┐ро▓рпН рокроЯро┐роХрпНроХроЯрпНроЯрпБ рооро╛роЯроЩрпНроХро│ро┐ро▓рпН рокрпКроорпНроорпИроХро│рпН роЕро▓роЩрпНроХро░ро┐родрпНродрпБ ро╡рпИроХрпНроХрокрпНрокроЯрпБроорпН.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Navarathri_Kolu.jpg/800px-Navarathri_Kolu.jpg",
    source:"роиро╡ро░ро╛родрпНродро┐ро░ро┐ роХрпЛро▓рпБ",
    tags:["festival", "tamilnadu", "culture"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#8A2A00 45%,#C9A84C 100%)",
    likes:582, saves:194 },

  { id:106, type:'image', category:'festival',
    title:"роороХро╛роороХроорпН",
    verse:["роороХро╛роороХроорпН - роХрпБроорпНрокроХрпЛрогродрпНродро┐ро▓рпН 12 роЖрогрпНроЯрпБроХро│рпБроХрпНроХрпБ роТро░рпБроорпБро▒рпИ роироЯрпИрокрпЖро▒рпБроорпН рокрпБройро┐род роирпАро░ро╛роЯро▓рпН ро╡ро┐ро┤ро╛"],
    explanation:"роороХро╛роороХроорпН - роХрпБроорпНрокроХрпЛрогродрпНродро┐ро▓рпН 12 роЖрогрпНроЯрпБроХро│рпБроХрпНроХрпБ роТро░рпБроорпБро▒рпИ роироЯрпИрокрпЖро▒рпБроорпН рокрпБройро┐род роирпАро░ро╛роЯро▓рпН ро╡ро┐ро┤ро╛. роороХро╛роороХроХрпН роХрпБро│родрпНродро┐ро▓рпН 20 роиродро┐роХро│рпН роЪроЩрпНроХрооро┐рокрпНрокродро╛роХ роРродрпАроХроорпН. роЗроирпНроиро╛ро│ро┐ро▓рпН роирпАро░ро╛роЯрпБро╡родро╛ро▓рпН роЕройрпИродрпНродрпБ рокрпБрогрпНрогро┐роп родрпАро░рпНродрпНродроЩрпНроХро│ро┐ро▓рпБроорпН роирпАро░ро╛роЯро┐роп рокро▓ройрпН роХро┐роЯрпИроХрпНроХрпБроорпН роОройрпНрокродрпБ роироорпНрокро┐роХрпНроХрпИ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/57/Mahamaham_Tank.jpg/800px-Mahamaham_Tank.jpg",
    source:"роороХро╛роороХроорпН",
    tags:["festival", "kumbakonam", "culture"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#8A2A00 45%,#C9A84C 100%)",
    likes:676, saves:225 },

  /* тФАтФА DANCE тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
  { id:107, type:'image', category:'dance',
    title:"рокро░родроиро╛роЯрпНроЯро┐ропроорпН",
    verse:["рокро░родроиро╛роЯрпНроЯро┐ропроорпН - родрооро┐ро┤рпНроиро╛роЯрпНроЯро┐ройрпН рооро┐роХрокрпН рокро┤роорпИропро╛рой рокро╛ро░роорпНрокро░ро┐роп роироЯройроХрпН роХро▓рпИ"],
    explanation:"рокро░родроиро╛роЯрпНроЯро┐ропроорпН - родрооро┐ро┤рпНроиро╛роЯрпНроЯро┐ройрпН рооро┐роХрокрпН рокро┤роорпИропро╛рой рооро▒рпНро▒рпБроорпН рокрпБроХро┤рпНрокрпЖро▒рпНро▒ рокро╛ро░роорпНрокро░ро┐роп роироЯройроХрпН роХро▓рпИ. родро┐ро░рпБроорпБро▒рпИ роХро╛ро▓родрпНродро┐ро▓рпН роЖро▓ропроЩрпНроХро│ро┐ро▓рпН родрпЗро╡родро╛роЪро┐роХро│рпН роЖроЯро┐роп роЖроЯро▓рпН рооро░рокро┐ро▓рпН роЗро░рпБроирпНродрпБ родрпЛройрпНро▒ро┐роп роЗроХрпНроХро▓рпИ, роиро╛роЯрпНроЯро┐роп роЪро╛ро╕рпНродро┐ро░родрпНродро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН роЕроорпИроирпНродрпБро│рпНро│родрпБ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ab/Bharatanatyam_Performer.jpg/800px-Bharatanatyam_Performer.jpg",
    source:"рокро░родроиро╛роЯрпНроЯро┐ропроорпН",
    tags:["dance", "tamilnadu", "culture"],
    gradient_bg:"linear-gradient(160deg,#0A1A0A 0%,#1A5A3A 45%,#3A9A6A 100%)",
    likes:770, saves:256 },

  { id:108, type:'image', category:'dance',
    title:"роХродроХро│ро┐",
    verse:["роХродроХро│ро┐ - родрпЖройрпНройро┐роирпНродро┐ропро╛ро╡ро┐ройрпН рокрпБроХро┤рпНрокрпЖро▒рпНро▒ роироЯрой роиро╛роЯроХроХрпН роХро▓рпИ"],
    explanation:"роХродроХро│ро┐ - родрпЖройрпНройро┐роирпНродро┐ропро╛ро╡ро┐ройрпН рооро▒рпНро▒рпКро░рпБ рокрпБроХро┤рпНрокрпЖро▒рпНро▒ роироЯрой роиро╛роЯроХроХрпН роХро▓рпИ. роХрпЗро░ро│ рооро╛роиро┐ро▓родрпНродро┐ро▓рпН родрпЛройрпНро▒ро┐ ро╡ро│ро░рпНроирпНрод роЗроирпНродроХрпН роХро▓рпИ, рокро▓ ро╡рогрпНрог роорпБроХродрпНродро┐ро░рпИроХро│рпБроорпН роЕро▓роЩрпНроХро╛ро░ роЙроЯрпИроХро│рпБроорпН роХрпКрогрпНроЯ роХроЯрпНроЯрпБроХрпНроХрпЛрокрпНрокро╛рой роироЯрой роиро╛роЯроХ ро╡роЯро┐ро╡рооро╛роХрпБроорпН.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Kathakali_Performer.jpg/800px-Kathakali_Performer.jpg",
    source:"роХродроХро│ро┐",
    tags:["dance", "kerala", "culture"],
    gradient_bg:"linear-gradient(160deg,#0A1A0A 0%,#1A5A3A 45%,#3A9A6A 100%)",
    likes:441, saves:147 },

  { id:109, type:'image', category:'dance',
    title:"роХрпЛро▓ро╛роЯрпНроЯроорпН",
    verse:["роХрпЛро▓ро╛роЯрпНроЯроорпН - родрооро┐ро┤роХродрпНродро┐ройрпН рокрпБроХро┤рпНрокрпЖро▒рпНро▒ роиро╛роЯрпНроЯрпБрокрпНрокрпБро▒ роироЯройроорпН"],
    explanation:"роХрпЛро▓ро╛роЯрпНроЯроорпН - родрооро┐ро┤роХродрпНродро┐ройрпН рокрпБроХро┤рпНрокрпЖро▒рпНро▒ роиро╛роЯрпНроЯрпБрокрпНрокрпБро▒ роироЯройроорпН. роХрпЛро▓рпНроХро│ро╛ро▓рпН (роХрпБроЪрпНроЪро┐роХро│рпН) роЖроЯрокрпНрокроЯрпБроорпН роЗроирпНрод роироЯройроорпН, роХро┐ро░рпБро╖рпНрог рокроХрпНродро┐ропрпБроЯройрпН родрпКроЯро░рпНрокрпБроЯрпИропродрпБ. роиро╡ро░ро╛родрпНродро┐ро░ро┐ ро╡ро┐ро┤ро╛роХрпНроХро│ро┐ро▓рпН роЪро┐ро▒рокрпНрокро╛роХ роЖроЯрокрпНрокроЯрпБро╡родрпБ ро╡ро┤роХрпНроХроорпН.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Kolattam.jpg/800px-Kolattam.jpg",
    source:"роХрпЛро▓ро╛роЯрпНроЯроорпН",
    tags:["dance", "tamilnadu", "culture"],
    gradient_bg:"linear-gradient(160deg,#0A1A0A 0%,#1A5A3A 45%,#3A9A6A 100%)",
    likes:535, saves:178 },

  { id:110, type:'image', category:'dance',
    title:"роХро░роХро╛роЯрпНроЯроорпН",
    verse:["роХро░роХро╛роЯрпНроЯроорпН - родрооро┐ро┤роХродрпНродро┐ройрпН рооро┐роХро╡рпБроорпН рокро┐ро░рокро▓рооро╛рой роиро╛роЯрпНроЯрпБрокрпНрокрпБро▒ роироЯройроорпН"],
    explanation:"роХро░роХро╛роЯрпНроЯроорпН - родрооро┐ро┤роХродрпНродро┐ройрпН рооро┐роХро╡рпБроорпН рокро┐ро░рокро▓рооро╛рой роиро╛роЯрпНроЯрпБрокрпНрокрпБро▒ роироЯройроЩрпНроХро│ро┐ро▓рпН роТройрпНро▒рпБ. рооро╛ро░ро┐ропроорпНрооройрпН ро╡ро┤ро┐рокро╛роЯрпНроЯрпБроЯройрпН родрпКроЯро░рпНрокрпБроЯрпИроп роЗроирпНрод роироЯройроорпН, родро▓рпИропро┐ро▓рпН роХро░роХроорпН ро╡рпИродрпНродрпБроХрпНроХрпКрогрпНроЯрпБ роЖроЯрпБро╡родрпБ роЪро┐ро▒рокрпНрокроорпНроЪроорпН.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/Karakattam.jpg/800px-Karakattam.jpg",
    source:"роХро░роХро╛роЯрпНроЯроорпН",
    tags:["dance", "tamilnadu", "culture"],
    gradient_bg:"linear-gradient(160deg,#0A1A0A 0%,#1A5A3A 45%,#3A9A6A 100%)",
    likes:629, saves:209 },

  /* тФАтФА CUISINE тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
  { id:111, type:'image', category:'cuisine',
    title:"роЪрпЖроЯрпНроЯро┐роиро╛роЯрпБ роЪро┐роХрпНроХройрпН роХро▒ро┐",
    verse:["роЪрпЖроЯрпНроЯро┐роиро╛роЯрпБ роЪро┐роХрпНроХройрпН роХро▒ро┐ - родрооро┐ро┤роХродрпНродро┐ройрпН рооро┐роХро╡рпБроорпН рокрпБроХро┤рпНрокрпЖро▒рпНро▒ роЙрогро╡рпБроХро│ро┐ро▓рпН роТройрпНро▒рпБ"],
    explanation:"роЪрпЖроЯрпНроЯро┐роиро╛роЯрпБ роЪро┐роХрпНроХройрпН роХро▒ро┐ - родрооро┐ро┤роХродрпНродро┐ройрпН рооро┐роХро╡рпБроорпН рокрпБроХро┤рпНрокрпЖро▒рпНро▒ роЙрогро╡рпБроХро│ро┐ро▓рпН роТройрпНро▒рпБ. роЪрпЖроЯрпНроЯро┐роиро╛роЯрпНроЯро┐ройрпН рокро╛ро░роорпНрокро░ро┐роп роороЪро╛ро▓ро╛роХрпНроХро│ро╛ро▓рпН родропро╛ро░ро┐роХрпНроХрокрпНрокроЯрпБроорпН роЗроирпНрод роХро▒ро┐, роЙро▓роХрокрпН рокрпБроХро┤рпН рокрпЖро▒рпНро▒родрпБ. рооро┐роХродрпН родройро┐родрпНродрпБро╡рооро╛рой роЪрпБро╡рпИропрпБроорпН роорогроорпБроорпН роХрпКрогрпНроЯродрпБ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Chettinad_Chicken.jpg/800px-Chettinad_Chicken.jpg",
    source:"роЪрпЖроЯрпНроЯро┐роиро╛роЯрпБ роЪро┐роХрпНроХройрпН роХро▒ро┐",
    tags:["cuisine", "chettinad", "culture"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#5A2000 45%,#C9640C 100%)",
    likes:723, saves:241 },

  { id:112, type:'image', category:'cuisine',
    title:"родрооро┐ро┤роХ роГрокро┐ро▓рпНроЯро░рпН роХро╛рокро┐",
    verse:["родрооро┐ро┤роХ роГрокро┐ро▓рпНроЯро░рпН роХро╛рокро┐ - родрооро┐ро┤ро░рпНроХро│ро┐ройрпН роЕроЯрпИропро╛ро│рооро╛роХ рооро╛ро▒ро┐роп рокро╛ройроорпН"],
    explanation:"родрооро┐ро┤роХ роГрокро┐ро▓рпНроЯро░рпН роХро╛рокро┐ - родрооро┐ро┤ро░рпНроХро│ро┐ройрпН роЕроЯрпИропро╛ро│рооро╛роХ рооро╛ро▒ро┐роп рокро╛ройроорпН. родрпЖройрпНройро┐роирпНродро┐ропро╛ро╡ро┐ро▓рпН рокро┐ро░ро┐роЯрпНроЯро┐ро╖рпН роЖроЯрпНроЪро┐роХрпНроХро╛ро▓родрпНродро┐ро▓рпН родрпЛройрпНро▒ро┐роп роЗроирпНрод роХро╛рокро┐, роЗройрпНро▒рпБ родрооро┐ро┤ро░рпНроХро│ро┐ройрпН роЕройрпНро▒ро╛роЯ ро╡ро╛ро┤рпНро╡ро┐ро▓рпН роЗро░рогрпНроЯро▒роХрпН роХро▓роирпНродрпБро╡ро┐роЯрпНроЯродрпБ. рокро╛ро░роорпНрокро░ро┐роп ро╡рпЖрогрпНроХро▓ роЯроорпНро│ро░ро┐ро▓рпН роХрпБроЯро┐рокрпНрокродрпБ роЪро┐ро▒рокрпНрокро╛ройродрпБ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Filter_Coffee.jpg/800px-Filter_Coffee.jpg",
    source:"родрооро┐ро┤роХ роГрокро┐ро▓рпНроЯро░рпН роХро╛рокро┐",
    tags:["cuisine", "tamilnadu", "culture"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#5A2000 45%,#C9640C 100%)",
    likes:817, saves:272 },

  { id:113, type:'image', category:'cuisine',
    title:"рокрпКроЩрпНроХро▓рпН роЙрогро╡рпБ",
    verse:["рокрпКроЩрпНроХро▓рпН - родрооро┐ро┤ро░рпНроХро│ро┐ройрпН рокро╛ро░роорпНрокро░ро┐роп роЙрогро╡рпБроорпН роЕродрпЗ рокрпЖропро░ро┐ро▓рпН родро┐ро░рпБро╡ро┐ро┤ро╛ро╡рпБроорпН"],
    explanation:"рокрпКроЩрпНроХро▓рпН - родрооро┐ро┤ро░рпНроХро│ро┐ройрпН рокро╛ро░роорпНрокро░ро┐роп роЙрогро╡рпБроорпН, роЕродрпЗ рокрпЖропро░ро┐ро▓рпН родро┐ро░рпБро╡ро┐ро┤ро╛ро╡рпБроорпН. рокрпБродро┐роп роЕро░ро┐роЪро┐, рокро╛роЪро┐рокрпНрокро░рпБрокрпНрокрпБ, роирпЖропрпН, рооро┐ро│роХрпБ роХрпКрогрпНроЯрпБ роЪроорпИроХрпНроХрокрпНрокроЯрпБроорпН роЗроирпНрод роЙрогро╡рпБ, родрооро┐ро┤ро░рпНроХро│ро┐ройрпН родро┐ро░рпБро╡ро┐ро┤ро╛ роЙрогро╡ро╛роХро╡рпБроорпН роЕройрпНро▒ро╛роЯ роЙрогро╡ро╛роХро╡рпБроорпН ро╡ро┐ро│роЩрпНроХрпБроХро┐ро▒родрпБ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Pongal_Dish.jpg/800px-Pongal_Dish.jpg",
    source:"рокрпКроЩрпНроХро▓рпН роЙрогро╡рпБ",
    tags:["cuisine", "tamilnadu", "culture"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#5A2000 45%,#C9640C 100%)",
    likes:488, saves:162 },

  { id:114, type:'image', category:'cuisine',
    title:"ро╡ро╛ро┤рпИ роЗро▓рпИ роЙрогро╡рпБ",
    verse:["ро╡ро╛ро┤рпИ роЗро▓рпИ роЙрогро╡рпБ - родрооро┐ро┤роХродрпНродро┐ройрпН рокро╛ро░роорпНрокро░ро┐роп роЙрогро╡рпБ рокро░ро┐рооро╛ро▒рпБроорпН роорпБро▒рпИ"],
    explanation:"ро╡ро╛ро┤рпИ роЗро▓рпИ роЙрогро╡рпБ - родрооро┐ро┤роХродрпНродро┐ройрпН рокро╛ро░роорпНрокро░ро┐роп роЙрогро╡рпБ рокро░ро┐рооро╛ро▒рпБроорпН роорпБро▒рпИ. родро┐ро░рпБроорогроорпН, роХро╛ро░ро┐ропроЩрпНроХро│рпН, родро┐ро░рпБро╡ро┐ро┤ро╛роХрпНроХро│ро┐ро▓рпН ро╡ро╛ро┤рпИ роЗро▓рпИропро┐ро▓рпН роЪрпБро╡рпИропро╛рой роЙрогро╡рпБ рокро░ро┐рооро╛ро▒рпБро╡родрпБ родрооро┐ро┤ро░рпНроХро│ро┐ройрпН рокро╛ро░роорпНрокро░ро┐роп рооро░рокрпБ. роЗро▓рпИропро┐ро▓рпН роЙрогрпНрог роиро▓роорпН роХро┐роЯрпИроХрпНроХрпБроорпН роОройрпНрокродрпБ роироорпНрокро┐роХрпНроХрпИ.",
    image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a2/Banana_Leaf_Meal.jpg/800px-Banana_Leaf_Meal.jpg",
    source:"ро╡ро╛ро┤рпИ роЗро▓рпИ роЙрогро╡рпБ",
    tags:["cuisine", "tamilnadu", "culture"],
    gradient_bg:"linear-gradient(160deg,#1A0A00 0%,#5A2000 45%,#C9640C 100%)",
    likes:582, saves:194 },

];

/* тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
   CATEGORY CONFIG
   тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
const CATEGORIES = {
  kural:        { label:'роХрпБро▒ро│рпН',         icon:'ЁЯУЬ', color:'#8B5A2B' },
  bakthi:       { label:'рокроХрпНродро┐',         icon:'ЁЯХЙя╕П',  color:'#6B4B8A' },
  paadal:       { label:'рокро╛роЯро▓рпН',         icon:'ЁЯО╡',  color:'#2B6B5A' },
  oakkam:       { label:'роКроХрпНроХроорпН',        icon:'тЪб',  color:'#8A6B1A' },
  vaazhkai:     { label:'ро╡ро╛ро┤рпНроХрпНроХрпИ',      icon:'ЁЯМ▒',  color:'#3A6B3A' },
  architecture: { label:'роХроЯрпНроЯро┐роЯроХрпНроХро▓рпИ',  icon:'ЁЯПЫя╕П',  color:'#8B5A2B' },
  temple_art:   { label:'роХрпЛропро┐ро▓рпН роХро▓рпИ',   icon:'ЁЯОи',  color:'#7B52AB' },
  festival:     { label:'родро┐ро░рпБро╡ро┐ро┤ро╛',      icon:'ЁЯОЙ',  color:'#C9640C' },
  dance:        { label:'роироЯройроорпН',         icon:'ЁЯТГ',  color:'#2B6B4A' },
  cuisine:      { label:'роЙрогро╡рпБ',          icon:'ЁЯНЫ',  color:'#8A4A00' },
};

/* тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
   MOOD тЖТ CATEGORY MAP
   тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
const MOOD_MAP = {
  tiredness: ['oakkam','vaazhkai'],
  fear:      ['bakthi','vaazhkai'],
  hope:      ['oakkam','kural'],
  peace:     ['bakthi','vaazhkai','festival'],
};

/* тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
   STORY BACKGROUNDS (per category)
   тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА */
const STORY_BG = {
  kural:        ['#5C0000','#3A0A00'],
  bakthi:       ['#2E1760','#120840'],
  paadal:       ['#0A3D2E','#071F18'],
  oakkam:       ['#5A3000','#2E1800'],
  vaazhkai:     ['#1A3A1A','#0A1F0A'],
  architecture: ['#4A2000','#1A0A00'],
  temple_art:   ['#2A1A5A','#0A0A1A'],
  festival:     ['#8A2A00','#1A0A00'],
  dance:        ['#1A5A3A','#0A1A0A'],
  cuisine:      ['#5A2000','#1A0A00'],
};

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   GOOGLE SHEETS API  (fallback to local DB)
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
class GoogleSheetsAPI {
  constructor(url) {
    this.url   = url || null;
    this._data = null;
  }

  async _fetch(params) {
    if (!this.url) return null;
    try {
      const qs  = Object.entries(params).map(([k,v]) => `${k}=${encodeURIComponent(v)}`).join('&');
      const res = await fetch(`${this.url}?${qs}&_=${Date.now()}`, {
        signal: AbortSignal.timeout(6000),
      });
      if (!res.ok) return null;
      return res.json();
    } catch (_) { return null; }
  }

  async fetchRemote() {
    const json = await this._fetch({ action: 'getPosts' });
    return Array.isArray(json?.posts) ? json.posts : null;
  }

  async getContent() {
    if (this._data) return this._data;
    const remote = await this.fetchRemote();
    // Merge: remote posts first, append any local-only posts not present remotely
    if (remote && remote.length) {
      const remoteIds = new Set(remote.map(p => p.id));
      const localOnly = CONTENT_DB.filter(p => !remoteIds.has(p.id));
      this._data = [...remote, ...localOnly];
    } else {
      this._data = CONTENT_DB;
    }
    return this._data;
  }

  async fetchDailyEvent() {
    const json = await this._fetch({ action: 'getDailyEvent' });
    return json && !json.error ? json : null;
  }
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   TIRUKKURAL API CLASS
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
class ThirukkuralAPI {
  constructor() {
    this.cache   = new Map();
    this.baseUrl = CONFIG.KURAL_API_BASE;
    this.key     = CONFIG.KURAL_API_KEY;
  }

  async getKural(number) {
    if (this.cache.has(number)) return this.cache.get(number);
    const lsCached = this._getLsCache(number);
    if (lsCached) { this.cache.set(number, lsCached); return lsCached; }
    const url = `${this.baseUrl}/kural/${number}?appid=${this.key}&format=json`;
    const data = await fetchWithRetry(url);
    if (data) { this.cache.set(number, data); this._setLsCache(data); return data; }
    return this._fallback(number);
  }

  async getRandomKural() {
    return this.getKural(Math.floor(Math.random() * 1330) + 1);
  }

  _setLsCache(kural) {
    let store = {};
    try { store = JSON.parse(localStorage.getItem('saram_kuralCache') || '{}'); } catch (_) {}
    store[kural.number] = { data: kural, ts: Date.now() };
    const keys = Object.keys(store);
    if (keys.length > 50) {
      const oldest = keys.sort((a, b) => store[a].ts - store[b].ts)[0];
      delete store[oldest];
    }
    try { localStorage.setItem('saram_kuralCache', JSON.stringify(store)); } catch (_) {}
  }

  _getLsCache(number) {
    try {
      const store = JSON.parse(localStorage.getItem('saram_kuralCache') || '{}');
      const entry = store[number];
      if (entry && Date.now() - entry.ts < 7 * 24 * 60 * 60 * 1000) return entry.data;
    } catch (_) {}
    return null;
  }

  _fallback(number) {
    const local = CONTENT_DB.find(c => c.category === 'kural');
    return local
      ? { number, line1: local.verse[0], line2: local.verse[1], tam_exp: local.explanation }
      : { number:1, line1:'роЕроХро░ роорпБродро▓ роОро┤рпБродрпНродрпЖро▓рпНро▓ро╛роорпН роЖродро┐', line2:'рокроХро╡ройрпН роорпБродро▒рпНро▒рпЗ роЙро▓роХрпБ', tam_exp:'' };
  }
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   DAILY KURAL COMPONENT
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
class DailyKural {
  constructor(api) {
    this.api  = api;
    this.card = document.getElementById('daily-kural-card');
  }

  async load() {
    const cached     = localStorage.getItem('saram_dailyKural');
    const cachedDate = localStorage.getItem('saram_kuralDate');
    const today      = new Date().toDateString();

    if (cached && cachedDate === today) {
      const k = JSON.parse(cached);
      this._render(k);
      preloadNextKural(k.number);
      return;
    }

    const d          = new Date();
    const dateString = `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`;
    const seed       = Array.from(dateString).reduce((acc, ch) => acc + ch.charCodeAt(0), 0);
    const kuralNum   = (seed % 1330) + 1;

    const kural = await this.api.getKural(kuralNum);
    localStorage.setItem('saram_dailyKural', JSON.stringify(kural));
    localStorage.setItem('saram_kuralDate', today);
    this._render(kural);
    preloadNextKural(kural.number);
  }

  _render(k) {
    if (!k) { this._renderError(); return; }
    const fav  = isKuralFavorite(k.number);
    const kJson = JSON.stringify(k).replace(/"/g, '&quot;');
    this.card.innerHTML = `
      <div class="kural-lines">
        <span class="kural-line">${k.line1 || k.verse?.[0] || ''}</span>
        <span class="kural-line">${k.line2 || k.verse?.[1] || ''}</span>
      </div>
      <div class="kural-divider"></div>
      <p class="kural-explanation">${k.tam_exp || k.explanation || ''}</p>
      <div style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px;margin-top:8px">
        <span class="kural-number-badge">ЁЯУЬ роХрпБро▒ро│рпН ${k.number || ''}</span>
        <div style="display:flex;gap:4px">
          <button id="daily-fav-btn" class="action-btn ripple-host"
            style="color:rgba(255,248,239,0.9);font-size:20px;padding:4px 8px"
            onclick="toggleKuralFavorite(${k.number},this)"
            title="${fav ? 'роЪрпЗрооро┐рокрпНрокро┐ро▓ро┐ро░рпБроирпНродрпБ роирпАроХрпНроХрпБ' : 'роЪрпЗрооро┐'}">${fav ? 'тЭдя╕П' : 'ЁЯдН'}</button>
          <button class="action-btn ripple-host" style="color:rgba(255,248,239,0.8);font-size:13px"
            onclick="shareKural(${kJson})">
            <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>
            рокроХро┐ро░рпН
          </button>
        </div>
      </div>
    `;
  }

  _renderError() {
    this.card.innerHTML = `<p style="color:rgba(255,248,239,0.7);font-family:var(--f-tamil);font-size:14px">роЗрогрпИрокрпНрокрпБ роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпНтАж</p>`;
  }
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   AUDIO PLAYER COMPONENT
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
class AudioPlayer {
  constructor(card, post) {
    this.card    = card;
    this.post    = post;
    this.audio   = null;
    this.playing = false;
    this._init();
  }

  _init() {
    if (!this.post.audio_url) return;
    this.audio = new Audio(this.post.audio_url);
    const playBtn  = this.card.querySelector('.audio-play-btn');
    const fillBar  = this.card.querySelector('.audio-progress-fill');
    const timeEl   = this.card.querySelector('.audio-time');
    const progBar  = this.card.querySelector('.audio-progress-bar');

    this.audio.addEventListener('timeupdate', () => {
      if (!this.audio.duration) return;
      const pct = (this.audio.currentTime / this.audio.duration) * 100;
      fillBar.style.width = `${pct}%`;
      timeEl.textContent  = this._fmt(this.audio.currentTime);
    });

    this.audio.addEventListener('ended', () => {
      this.playing = false;
      this.card.classList.remove('playing');
      playBtn.innerHTML = this._playIcon();
      fillBar.style.width = '0%';
    });

    progBar.addEventListener('click', e => {
      if (!this.audio.duration) return;
      const rect = progBar.getBoundingClientRect();
      this.audio.currentTime = ((e.clientX - rect.left) / rect.width) * this.audio.duration;
    });

    playBtn.addEventListener('click', e => { e.stopPropagation(); this.toggle(); });
  }

  toggle() {
    if (!this.audio) {
      showToast('роЖроЯро┐ропрпЛ роХрпЛрокрпНрокрпБ роЗро▓рпНро▓рпИ тАФ ро╡ро┐ро░рпИро╡ро┐ро▓рпН роЪрпЗро░рпНроХрпНроХрокрпНрокроЯрпБроорпН');
      return;
    }
    // Stop all other audio players
    document.querySelectorAll('.audio-card.playing').forEach(c => {
      if (c !== this.card) {
        const ev = new CustomEvent('saram:stopAudio');
        c.dispatchEvent(ev);
      }
    });

    const playBtn = this.card.querySelector('.audio-play-btn');
    if (this.playing) {
      this.audio.pause();
      this.playing = false;
      this.card.classList.remove('playing');
    } else {
      this.audio.play().catch(() => showToast('роЖроЯро┐ропрпЛ роПро▒рпНро▒родрпНродро┐ро▓рпН рокро┐ро┤рпИ'));
      this.playing = true;
      this.card.classList.add('playing');
    }
    playBtn.innerHTML = this.playing ? this._pauseIcon() : this._playIcon();
  }

  _playIcon()  { return '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>'; }
  _pauseIcon() { return '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>'; }
  _fmt(s) { return `${Math.floor(s/60)}:${String(Math.floor(s%60)).padStart(2,'0')}`; }
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   QUOTE IMAGE GENERATOR (Canvas 1080├Ч1080)
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
class QuoteGenerator {
  constructor() {
    this.canvas = document.getElementById('quote-canvas');
    this.ctx    = this.canvas ? this.canvas.getContext('2d') : null;
    this.post   = null;
  }

  async generate(post) {
    if (!this.canvas || !this.ctx) return;
    this.post = post;
    await document.fonts.ready;

    const W = 1080, H = 1080;
    this.canvas.width  = W;
    this.canvas.height = H;
    const ctx = this.ctx;
    const cat = CATEGORIES[post.category] || { icon:'ЁЯУЬ', color:'#8B5A2B' };

    /* тФАтФА Background тФАтФА */
    const grad = ctx.createLinearGradient(0, 0, W, H);
    grad.addColorStop(0, '#4A0000');
    grad.addColorStop(0.6, '#2A0500');
    grad.addColorStop(1, '#100200');
    ctx.fillStyle = grad;
    ctx.fillRect(0, 0, W, H);

    /* тФАтФА Decorative circle тФАтФА */
    ctx.beginPath();
    ctx.arc(W * 0.88, H * 0.12, 220, 0, Math.PI * 2);
    ctx.strokeStyle = 'rgba(201,168,76,0.12)';
    ctx.lineWidth = 50;
    ctx.stroke();

    /* тФАтФА Outer border тФАтФА */
    ctx.strokeStyle = 'rgba(201,168,76,0.45)';
    ctx.lineWidth   = 6;
    ctx.strokeRect(36, 36, W - 72, H - 72);

    /* тФАтФА Top gold bar тФАтФА */
    ctx.fillStyle = 'rgba(201,168,76,0.6)';
    ctx.fillRect(56, 56, W - 112, 3);

    /* тФАтФА Lamp + branding тФАтФА */
    ctx.font      = '70px serif';
    ctx.textAlign = 'center';
    ctx.fillText('ЁЯкФ', W / 2, 185);

    ctx.fillStyle = 'rgba(201,168,76,0.7)';
    ctx.font      = 'bold 28px sans-serif';
    ctx.fillText('роЪро╛ро░роорпН | SARAM', W / 2, 240);

    /* тФАтФА Category тФАтФА */
    ctx.font      = '24px sans-serif';
    ctx.fillStyle = 'rgba(201,168,76,0.5)';
    ctx.fillText(cat.icon + '  ' + (cat.label || ''), W / 2, 285);

    /* тФАтФА Divider тФАтФА */
    ctx.fillStyle   = 'rgba(201,168,76,0.4)';
    ctx.fillRect(W * 0.3, 310, W * 0.4, 2);

    /* тФАтФА Verse lines тФАтФА */
    const lines = post.verse || [];
    ctx.fillStyle   = '#FFF8EF';
    ctx.font        = 'bold 52px "Noto Serif Tamil", "Hind Madurai", serif';
    ctx.textAlign   = 'center';
    ctx.shadowColor = 'rgba(0,0,0,0.6)';
    ctx.shadowBlur  = 10;
    lines.forEach((line, i) => {
      ctx.fillText(line, W / 2, 390 + i * 82);
    });
    ctx.shadowBlur = 0;

    /* тФАтФА Second divider тФАтФА */
    const afterVerse = 390 + lines.length * 82 + 30;
    ctx.fillStyle = 'rgba(201,168,76,0.35)';
    ctx.fillRect(W * 0.2, afterVerse, W * 0.6, 2);

    /* тФАтФА Explanation (word-wrapped) тФАтФА */
    ctx.fillStyle = 'rgba(255,248,239,0.78)';
    ctx.font      = '34px "Noto Serif Tamil", "Hind Madurai", serif';
    this._wrapText(ctx, post.explanation || '', W / 2, afterVerse + 55, W - 160, 54);

    /* тФАтФА Source тФАтФА */
    ctx.fillStyle = 'rgba(201,168,76,0.8)';
    ctx.font      = '28px serif';
    ctx.fillText(`тАФ ${post.source || 'роЪро╛ро░роорпН'}`, W / 2, H - 160);

    /* тФАтФА Bottom gold bar тФАтФА */
    ctx.fillStyle = 'rgba(201,168,76,0.6)';
    ctx.fillRect(56, H - 68, W - 112, 3);
  }

  _wrapText(ctx, text, x, y, maxW, lineH) {
    const words  = text.split(' ');
    let line = '', curY = y;
    for (const word of words) {
      const test = line ? line + ' ' + word : word;
      if (ctx.measureText(test).width > maxW && line) {
        ctx.fillText(line, x, curY);
        line  = word;
        curY += lineH;
      } else {
        line = test;
      }
    }
    if (line) ctx.fillText(line, x, curY);
  }

  download() {
    const link   = document.createElement('a');
    link.download = `saram-${Date.now()}.png`;
    link.href     = this.canvas.toDataURL('image/png');
    link.click();
  }

  async share() {
    const blob = await new Promise(r => this.canvas.toBlob(r, 'image/png'));
    const file = new File([blob], 'saram-quote.png', { type:'image/png' });
    if (navigator.share && navigator.canShare?.({ files:[file] })) {
      await navigator.share({ title:'роЪро╛ро░роорпН тАФ Tamil Wisdom', files:[file] })
        .catch(() => this.download());
    } else {
      this.download();
    }
  }
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   STORY MODE
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
class StoryMode {
  constructor(db) {
    this.db     = db || CONTENT_DB;
    this.daily  = this._getDailyStories();
  }

  _getDailyStories() {
    const d          = new Date();
    const dateString = `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`;
    const seed       = Array.from(dateString).reduce((a, c) => a + c.charCodeAt(0), 0);
    // Deterministic shuffle
    const sorted = [...this.db].sort((a, b) => {
      const ha = (seed * 31 + a.id * 17) % 997;
      const hb = (seed * 31 + b.id * 17) % 997;
      return ha - hb;
    });
    return sorted.slice(0, 5);
  }

  openStories(startIndex = 0, overrideStories = null) {
    const stories = overrideStories || this.daily;
    localStorage.setItem('saram_storyData',  JSON.stringify(stories));
    localStorage.setItem('saram_storyStart', String(startIndex));
    window.location.href = 'stories.html';
  }

  openByCategory(cat) {
    const catStories = this.db.filter(p => p.category === cat).slice(0, 7);
    if (!catStories.length) { showToast('роЗроирпНрод ро╡роХрпИропро┐ро▓рпН рокродро┐ро╡рпБроХро│рпН роЗро▓рпНро▓рпИ'); return; }
    this.openStories(0, catStories);
  }
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   FETCH WITH RETRY
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
async function fetchWithRetry(url, maxRetries = 3) {
  for (let i = 0; i < maxRetries; i++) {
    try {
      const res = await fetch(url, { signal: AbortSignal.timeout(8000) });
      if (!res.ok) throw new Error(`HTTP ${res.status}`);
      return await res.json();
    } catch (_) {
      if (i === maxRetries - 1) return null;
      await sleep(1000 * Math.pow(2, i));
    }
  }
  return null;
}
function sleep(ms) { return new Promise(r => setTimeout(r, ms)); }

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   FEED MANAGER
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
class FeedManager {
  constructor() {
    this.el           = document.getElementById('feed');
    this.loaderEl     = document.getElementById('feed-loader');
    this.endEl        = document.getElementById('feed-end');
    this.category     = 'all';
    this.page         = 0;
    this.postsShown   = 0;
    this.loading      = false;
    this.filteredData = [];
    this._setupObserver();
  }

  _setupObserver() {
    this._sentinel = document.createElement('div');
    this._sentinel.style.cssText = 'height:1px;width:100%;';
    this.el.after(this._sentinel);
    this._observer = new IntersectionObserver(entries => {
      if (entries[0].isIntersecting && !this.loading) this._loadMore();
    }, { rootMargin:'200px' });
    this._observer.observe(this._sentinel);
  }

  setCategory(cat) {
    this.category = cat;
    this.page = 0; this.postsShown = 0;
    this.el.innerHTML = '';
    this.endEl.hidden = true;
    this._filterData();
    this._loadMore();
  }

  setMoodFilter(cats) {
    this.filteredData = CONTENT_DB.filter(p => cats.includes(p.category));
    this.page = 0; this.postsShown = 0;
    this.el.innerHTML = '';
    this.endEl.hidden = true;
    this._loadMore();
  }

  searchContent(query) {
    if (!query.trim()) { this.setCategory(this.category); return; }
    const q = query.trim();
    const numMatch = parseInt(q);
    if (!isNaN(numMatch) && numMatch >= 1 && numMatch <= 1330) {
      window.kuralAPI.getKural(numMatch).then(k => { if (k) showKuralModal(k); });
      return;
    }
    this.filteredData = CONTENT_DB.filter(p =>
      p.verse.some(l => l.includes(q)) ||
      (p.explanation && p.explanation.includes(q)) ||
      (p.title && p.title.includes(q))
    );
    this.page = 0;
    this.el.innerHTML = '';
    this.endEl.hidden = true;
    this._loadMore();
  }

  _filterData() {
    if (this.category === 'all') {
      this.filteredData = [...CONTENT_DB].sort(() => 0.5 - Math.random());
    } else {
      this.filteredData = CONTENT_DB.filter(p => p.category === this.category);
    }
  }

  async _loadMore() {
    if (this.loading) return;
    const start = this.page * CONFIG.POSTS_PER_PAGE;
    const slice = this.filteredData.slice(start, start + CONFIG.POSTS_PER_PAGE);
    if (!slice.length) {
      this.loaderEl.hidden = true;
      this.endEl.hidden    = false;
      return;
    }
    this.loading = true;
    this.loaderEl.hidden = false;
    await sleep(280);
    slice.forEach(post => {
      this.el.appendChild(createPostCard(post));
      this.postsShown++;
      if (this.postsShown % CONFIG.MINDFUL_PAUSE_EVERY === 0) showMindfulPause();
    });
    this.page++;
    this.loading = false;
    this.loaderEl.hidden = true;
    if (this.page * CONFIG.POSTS_PER_PAGE >= this.filteredData.length) this.endEl.hidden = false;
  }
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   CARD BUILDER
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
/* тФАтФА Per-post like helpers тФАтФА */
function isPostLiked(id) {
  try { return localStorage.getItem(`saram_liked_${id}`) === '1'; } catch { return false; }
}
function togglePostLike(id, heartBtn, countEl, baseLikes) {
  const liked = isPostLiked(id);
  try {
    if (liked) {
      localStorage.removeItem(`saram_liked_${id}`);
      heartBtn.textContent = 'ЁЯдН';
      heartBtn.classList.remove('liked-btn');
      countEl.textContent = `${(baseLikes || 0).toLocaleString('ta-IN')} рокро┐роЯро┐родрпНродро╡рпИ`;
    } else {
      localStorage.setItem(`saram_liked_${id}`, '1');
      heartBtn.textContent = 'тЭдя╕П';
      heartBtn.classList.add('liked-btn');
      countEl.textContent = `${((baseLikes || 0) + 1).toLocaleString('ta-IN')} рокро┐роЯро┐родрпНродро╡рпИ`;
      burstHearts(heartBtn);
    }
  } catch (_) {}
}

/* Category gradient backgrounds */
const CAT_GRADIENTS = {
  kural:        'linear-gradient(160deg,#3A0000 0%,#7B0000 45%,#C9A84C 100%)',
  bakthi:       'linear-gradient(160deg,#0D0426 0%,#3D1A7A 45%,#7B52AB 100%)',
  paadal:       'linear-gradient(160deg,#071F12 0%,#1A5A2A 45%,#3A8A5A 100%)',
  oakkam:       'linear-gradient(160deg,#2A1000 0%,#8A4A00 45%,#C9A84C 100%)',
  vaazhkai:     'linear-gradient(160deg,#071407 0%,#1A4A1A 45%,#4A8A4A 100%)',
  architecture: 'linear-gradient(160deg,#1A0A00 0%,#4A2000 45%,#8B5A2B 100%)',
  temple_art:   'linear-gradient(160deg,#0A0A1A 0%,#2A1A5A 45%,#7B52AB 100%)',
  festival:     'linear-gradient(160deg,#1A0A00 0%,#8A2A00 45%,#C9A84C 100%)',
  dance:        'linear-gradient(160deg,#0A1A0A 0%,#1A5A3A 45%,#3A9A6A 100%)',
  cuisine:      'linear-gradient(160deg,#1A0A00 0%,#5A2000 45%,#C9640C 100%)',
};

function createPostCard(post) {
  const cat  = CATEGORIES[post.category] || { label:post.category, icon:'ЁЯУД', color:'#8B5A2B' };
  const card = document.createElement('article');
  const type = post.type || 'text';
  card.className = `content-card${type === 'audio' ? ' audio-card' : ''}`;
  card.dataset.id   = post.id;
  card.dataset.type = type;

  /* тФАтФА Choose media background тФАтФА */
  const gradient  = CAT_GRADIENTS[post.category] || CAT_GRADIENTS.kural;
  const bgStyle   = post.gradient_bg ? post.gradient_bg : gradient;
  const imgTag    = post.image_url
    ? `<img src="${post.image_url}" alt="" loading="lazy"/>`
    : '';

  /* тФАтФА Kural badge тФАтФА */
  const kuralNumMatch = post.source?.match(/роХрпБро▒ро│рпН (\d+)/);
  const kuralPill = (post.category === 'kural' && kuralNumMatch)
    ? `<span class="card-kural-pill">ЁЯУЬ роХрпБро▒ро│рпН ${kuralNumMatch[1]}</span>` : '';

  /* тФАтФА Verse lines тФАтФА */
  const verseHtml = (post.verse || []).map(l => `<span class="vline">${l}</span>`).join('');

  /* тФАтФА Like state тФАтФА */
  const liked    = isPostLiked(post.id);
  const isSaved  = isSavedPost(post.id);
  const baseLikes= post.likes || 0;
  const dispLikes= liked ? baseLikes + 1 : baseLikes;

  /* тФАтФА Audio strip тФАтФА */
  const audioHtml = type === 'audio' ? `
    <div class="audio-player">
      <button class="audio-play-btn" aria-label="Play/Pause">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
      </button>
      <div class="audio-progress-wrap">
        <div class="audio-progress-bar"><div class="audio-progress-fill"></div></div>
        <span class="audio-time">0:00</span>
      </div>
    </div>` : '';

  card.innerHTML = `
    <!-- Post header (Instagram style) -->
    <div class="card-post-hdr">
      <div class="card-avatar">${cat.icon}</div>
      <div class="card-hdr-info">
        <span class="card-hdr-name">${post.title || cat.label}</span>
        <span class="card-hdr-cat" style="color:${cat.color}">${cat.icon} ${cat.label}</span>
      </div>
      <button class="card-menu-btn" aria-label="роорпЗро▓рпБроорпН">┬╖┬╖┬╖</button>
    </div>

    <!-- Media zone (the "photo") -->
    <div class="card-media" style="background:${bgStyle}">
      ${imgTag}
      <div class="card-media-overlay">
        ${kuralPill}
        <div class="card-verse-overlay">${verseHtml}</div>
      </div>
    </div>

    <!-- Action bar (Instagram buttons) -->
    <div class="card-actions-ig">
      <button class="card-ig-btn like-ig-btn ripple-host" aria-label="рокро┐роЯро┐родрпНродро╡рпИ">
        ${liked ? 'тЭдя╕П' : 'ЁЯдН'}
      </button>
      <button class="card-ig-btn comment-ig-btn ripple-host" aria-label="ро╡ро┐ро╡ро░роорпН">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
      </button>
      <button class="card-ig-btn share-action-btn ripple-host" aria-label="рокроХро┐ро░рпН">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
      </button>
      <div class="card-ig-spacer"></div>
      <button class="card-ig-btn card-ig-save save-action-btn ripple-host${isSaved ? ' saved' : ''}" aria-label="роЪрпЗрооро┐">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="${isSaved ? 'currentColor' : 'none'}" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
      </button>
    </div>

    <!-- Likes count -->
    <div class="card-likes-row">
      <span class="card-likes-count">тЭдя╕П ${dispLikes.toLocaleString('ta-IN')} рокро┐роЯро┐родрпНродро╡рпИ</span>
    </div>

    <!-- Caption -->
    <div class="card-caption-block">
      ${post.source ? `<span class="card-caption-src">${post.source}</span>` : ''}
      ${post.explanation ? `<span class="card-caption-exp">${post.explanation.slice(0,120)}${post.explanation.length>120?'тАж':''}</span>` : ''}
    </div>

    ${audioHtml}
  `;

  /* тФАтФА Event listeners тФАтФА */
  const likeBtn   = card.querySelector('.like-ig-btn');
  const countEl   = card.querySelector('.card-likes-count');
  const saveBtn   = card.querySelector('.save-action-btn');
  const shareBtn  = card.querySelector('.share-action-btn');
  const commentBtn= card.querySelector('.comment-ig-btn');
  const menuBtn   = card.querySelector('.card-menu-btn');
  const captionEl = card.querySelector('.card-caption-block');
  const mediaEl   = card.querySelector('.card-media');

  likeBtn?.addEventListener('click', e => {
    e.stopPropagation();
    togglePostLike(post.id, likeBtn, countEl, baseLikes);
  });
  saveBtn?.addEventListener('click', e => {
    e.stopPropagation();
    toggleSavePost(post, saveBtn);
    const svg = saveBtn.querySelector('svg');
    if (svg) svg.setAttribute('fill', isSavedPost(post.id) ? 'currentColor' : 'none');
  });
  shareBtn?.addEventListener('click', e => { e.stopPropagation(); openShareModal(post); });
  commentBtn?.addEventListener('click', e => { e.stopPropagation(); openPostModal(post); });
  menuBtn?.addEventListener('click', e => { e.stopPropagation(); openShareModal(post); });
  captionEl?.addEventListener('click', () => openPostModal(post));
  mediaEl?.addEventListener('click', () => openPostModal(post));

  if (type === 'audio') {
    const player = new AudioPlayer(card, post);
    card.addEventListener('saram:stopAudio', () => { if (player.playing) player.toggle(); });
  }

  return card;
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   SAVE / BOOKMARK HELPERS
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function getSaved()       { try { return JSON.parse(localStorage.getItem('saram_saved') || '[]'); } catch { return []; } }
function isSavedPost(id)  { return getSaved().some(s => (typeof s === 'object' ? s.id : s) === id); }

function toggleSavePost(post, btnEl) {
  let saved = getSaved();
  const savedIds = saved.map(s => (typeof s === 'object' ? s.id : s));
  const svg = btnEl.querySelector('svg');
  if (savedIds.includes(post.id)) {
    saved = saved.filter(s => (typeof s === 'object' ? s.id : s) !== post.id);
    btnEl.classList.remove('saved');
    if (svg) svg.setAttribute('fill','none');
    showToast('роЪрпЗрооро┐рокрпНрокро┐ро▓ро┐ро░рпБроирпНродрпБ роирпАроХрпНроХрокрпНрокроЯрпНроЯродрпБ');
  } else {
    saved.push(post);
    btnEl.classList.add('saved');
    if (svg) svg.setAttribute('fill','currentColor');
    showToast('ЁЯФЦ роОройрпН роЪро╛ро░родрпНродро┐ро▓рпН роЪрпЗрооро┐роХрпНроХрокрпНрокроЯрпНроЯродрпБ!');
  }
  localStorage.setItem('saram_saved', JSON.stringify(saved));
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   MODAL
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function openPostModal(post) {
  const cat          = CATEGORIES[post.category] || { label:post.category, icon:'ЁЯУД' };
  const modalContent = document.getElementById('modal-content');
  const overlay      = document.getElementById('modal-overlay');
  const saved        = isSavedPost(post.id);

  modalContent.innerHTML = `
    <p style="font-size:12px;font-weight:700;color:var(--text-light);letter-spacing:.06em;text-transform:uppercase;margin-bottom:4px">
      ${cat.icon} ${cat.label}
    </p>
    ${post.title ? `<h3 style="font-family:var(--f-tamil);font-size:15px;color:var(--text-muted);margin-bottom:8px">${post.title}</h3>` : ''}
    <div class="modal-verse">${post.verse.map(l => `<span style="display:block">${l}</span>`).join('')}</div>
    ${post.explanation ? `<div style="height:1px;background:linear-gradient(to right,var(--gold),transparent);margin:12px 0;opacity:.5"></div><p class="modal-exp">${post.explanation}</p>` : ''}
    ${post.source ? `<p style="font-size:12px;color:var(--text-light);font-style:italic;margin-bottom:16px">тАФ ${post.source}</p>` : ''}
    <div style="display:flex;gap:8px;margin-bottom:12px">
      <button id="modal-save-btn" style="flex:1;padding:11px;border-radius:100px;font-size:13px;font-weight:700;font-family:var(--f-tamil);cursor:pointer;border:1.5px solid var(--border);background:${saved ? 'var(--maroon)' : 'var(--cream-dk)'};color:${saved ? '#fff' : 'var(--text)'};transition:.2s"
        onclick="toggleSavePostInModal(${post.id}, this)">
        ${saved ? 'ЁЯФЦ роЪрпЗрооро┐роХрпНроХрокрпНрокроЯрпНроЯродрпБ' : 'ЁЯФЦ роОройрпН роЪро╛ро░роорпН'}
      </button>
      <button style="flex:1;padding:11px;border-radius:100px;font-size:13px;font-weight:700;font-family:var(--f-tamil);cursor:pointer;border:1.5px solid var(--gold);background:rgba(201,168,76,.12);color:var(--gold-dk);transition:.2s"
        onclick="openQuoteGenerator(${JSON.stringify(post).replace(/"/g,'&quot;')})">
        ЁЯЦ╝я╕П Quote рокроЯроорпН
      </button>
    </div>
    <div class="modal-share-row">
      <button class="share-btn share-btn-wa"   onclick="shareToWhatsApp(${post.id})">WhatsApp</button>
      <button class="share-btn share-btn-tw"   onclick="shareToTwitter(${post.id})">Twitter/X</button>
      <button class="share-btn share-btn-fb"   onclick="shareToFacebook(${post.id})">Facebook</button>
      <button class="share-btn share-btn-copy" onclick="copyPostText(${post.id})">роироХро▓рпЖроЯрпБ</button>
    </div>
  `;

  overlay.hidden = false;
  document.body.style.overflow = 'hidden';
}

function toggleSavePostInModal(id, btnEl) {
  const post  = CONTENT_DB.find(p => p.id === id);
  if (!post) return;
  const saved = isSavedPost(id);
  // Sync the card save button too
  const cardSaveBtn = document.querySelector(`.content-card[data-id="${id}"] .save-action-btn`);
  if (cardSaveBtn) toggleSavePost(post, cardSaveBtn);
  else toggleSavePost(post, { classList:{ add:()=>{}, remove:()=>{} }, querySelector:()=>null });

  const nowSaved = isSavedPost(id);
  btnEl.style.background = nowSaved ? 'var(--maroon)' : 'var(--cream-dk)';
  btnEl.style.color      = nowSaved ? '#fff' : 'var(--text)';
  btnEl.textContent      = nowSaved ? 'ЁЯФЦ роЪрпЗрооро┐роХрпНроХрокрпНрокроЯрпНроЯродрпБ' : 'ЁЯФЦ роОройрпН роЪро╛ро░роорпН';
}

function closeModal() {
  document.getElementById('modal-overlay').hidden = true;
  document.body.style.overflow = '';
}

function showKuralModal(k) {
  const modalContent = document.getElementById('modal-content');
  const overlay      = document.getElementById('modal-overlay');
  const line1        = k.line1 || '';
  const line2        = k.line2 || '';
  const shareText    = `${line1}\n${line2}\nтАФ родро┐ро░рпБроХрпНроХрпБро▒ро│рпН ${k.number}\nроЪро╛ро░роорпН | Tamil Wisdom`;
  const fav          = isKuralFavorite(k.number);

  modalContent.innerHTML = `
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:4px">
      <p style="font-size:12px;font-weight:700;color:var(--gold);letter-spacing:.06em;text-transform:uppercase">ЁЯУЬ родро┐ро░рпБроХрпНроХрпБро▒ро│рпН ${k.number}</p>
      <button id="modal-fav-btn" onclick="toggleKuralFavorite(${k.number},this)"
        style="font-size:22px;background:none;border:none;cursor:pointer;transition:transform .2s"
        title="${fav ? 'роЪрпЗрооро┐рокрпНрокро┐ро▓ро┐ро░рпБроирпНродрпБ роирпАроХрпНроХрпБ' : 'роЪрпЗрооро┐'}">${fav ? 'тЭдя╕П' : 'ЁЯдН'}</button>
    </div>
    <div class="modal-verse">
      <span style="display:block">${line1}</span>
      <span style="display:block">${line2}</span>
    </div>
    <div style="height:1px;background:linear-gradient(to right,var(--gold),transparent);margin:12px 0;opacity:.5"></div>
    <p class="modal-exp">${k.tam_exp || ''}</p>
    <button style="width:100%;padding:11px;border-radius:100px;font-size:13px;font-weight:700;font-family:var(--f-tamil);cursor:pointer;border:1.5px solid var(--gold);background:rgba(201,168,76,.12);color:var(--gold-dk);margin-bottom:12px"
      onclick="openQuoteGenerator({verse:['${line1.replace(/'/g,"\\'")}','${line2.replace(/'/g,"\\'")}'],explanation:'${(k.tam_exp||'').replace(/'/g,"\\'")}',source:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН ${k.number}',category:'kural'})">
      ЁЯЦ╝я╕П Quote рокроЯроорпН роЙро░рпБро╡ро╛роХрпНроХрпБ
    </button>
    <div class="modal-share-row">
      <button class="share-btn share-btn-wa"   onclick="shareKuralToWhatsApp(${k.number})">WhatsApp</button>
      <button class="share-btn share-btn-tw"   onclick="shareKuralToTwitter(${k.number})">Twitter/X</button>
      <button class="share-btn share-btn-fb"   onclick="shareKuralToFacebook(${k.number})">Facebook</button>
      <button class="share-btn share-btn-copy" onclick="navigator.clipboard.writeText(${JSON.stringify(shareText)}).then(()=>showToast('тЬЕ роироХро▓рпЖроЯрпБроХрпНроХрокрпНрокроЯрпНроЯродрпБ!'))">роироХро▓рпЖроЯрпБ</button>
    </div>
  `;

  overlay.hidden = false;
  document.body.style.overflow = 'hidden';
  preloadNextKural(k.number);
}

function openShareModal(post) { openPostModal(post); }

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   QUOTE GENERATOR OPENER
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function openQuoteGenerator(post) {
  const overlay = document.getElementById('quote-overlay');
  if (!overlay) return;
  // Close post modal first
  document.getElementById('modal-overlay').hidden = true;
  overlay.hidden = false;
  document.body.style.overflow = 'hidden';
  requestAnimationFrame(() => window.quoteGen?.generate(post).catch(()=>{}));
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   SHARE FUNCTIONS
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function getPostText(id) {
  const post = CONTENT_DB.find(p => p.id === id);
  if (!post) return '';
  return `${post.verse.join('\n')}\nтАФ ${post.source || 'роЪро╛ро░роорпН'}\n\nроЪро╛ро░роорпН | Tamil Wisdom`;
}

function shareToWhatsApp(id) {
  window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(getPostText(id))}`, '_blank');
  trackShare('whatsapp', id);
}
function shareToTwitter(id) {
  window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(getPostText(id))}`, '_blank');
  trackShare('twitter', id);
}
function shareToFacebook(id) {
  window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`, '_blank');
  trackShare('facebook', id);
}
function copyPostText(id) {
  navigator.clipboard.writeText(getPostText(id)).then(() => showToast('тЬЕ роироХро▓рпЖроЯрпБроХрпНроХрокрпНрокроЯрпНроЯродрпБ!'));
  trackShare('copy', id);
}
function shareKural(k) {
  const text = `${k.line1}\n${k.line2}\nтАФ родро┐ро░рпБроХрпНроХрпБро▒ро│рпН ${k.number}\nроЪро╛ро░роорпН | Tamil Wisdom`;
  if (navigator.share) { navigator.share({ title:'родро┐ро░рпБроХрпНроХрпБро▒ро│рпН', text }); }
  else { navigator.clipboard.writeText(text).then(() => showToast('роироХро▓рпЖроЯрпБроХрпНроХрокрпНрокроЯрпНроЯродрпБ!')); }
  trackShare('native', k.number);
}
function shareKuralToWhatsApp(number) {
  window.kuralAPI.getKural(number).then(k => {
    if (!k) return;
    const text = `${k.line1}\n${k.line2}\nтАФ родро┐ро░рпБроХрпНроХрпБро▒ро│рпН ${number}\nроЪро╛ро░роорпН | Tamil Wisdom`;
    window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(text)}`, '_blank');
    trackShare('whatsapp', number);
  });
}
function shareKuralToTwitter(number) {
  window.kuralAPI.getKural(number).then(k => {
    if (!k) return;
    const text = `${k.line1}\n${k.line2}\nтАФ родро┐ро░рпБроХрпНроХрпБро▒ро│рпН ${number}\nроЪро╛ро░роорпН | Tamil Wisdom`;
    window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`, '_blank');
    trackShare('twitter', number);
  });
}
function shareKuralToFacebook(number) {
  window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href+'?kural='+number)}`, '_blank');
  trackShare('facebook', number);
}
function trackShare(platform, ref) {
  console.log(`[роЪро╛ро░роорпН] Share: ${platform} | ${ref}`);
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   KURAL FAVORITES
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function getKuralFavorites()   { try { return JSON.parse(localStorage.getItem('saram_kuralFavorites') || '[]'); } catch { return []; } }
function isKuralFavorite(num)  { return getKuralFavorites().includes(num); }

function toggleKuralFavorite(number, btnEl) {
  let favs = getKuralFavorites();
  if (favs.includes(number)) {
    favs = favs.filter(n => n !== number);
    if (btnEl) btnEl.textContent = 'ЁЯдН';
    showToast('роЪрпЗрооро┐рокрпНрокро┐ро▓ро┐ро░рпБроирпНродрпБ роирпАроХрпНроХрокрпНрокроЯрпНроЯродрпБ');
  } else {
    favs.push(number);
    if (btnEl) {
      btnEl.textContent = 'тЭдя╕П';
      btnEl.style.transform = 'scale(1.4)';
      burstHearts(btnEl);
      setTimeout(() => { if (btnEl) btnEl.style.transform = ''; }, 350);
    }
    showToast('тЭдя╕П роХрпБро▒ро│рпН роЪрпЗрооро┐роХрпНроХрокрпНрокроЯрпНроЯродрпБ!');
  }
  localStorage.setItem('saram_kuralFavorites', JSON.stringify(favs));
  const isFav = favs.includes(number);
  [document.getElementById('daily-fav-btn'), document.getElementById('modal-fav-btn')].forEach(b => {
    if (b && b !== btnEl) b.textContent = isFav ? 'тЭдя╕П' : 'ЁЯдН';
  });
}

function showKuralFavorites() {
  const favs = getKuralFavorites();
  if (!favs.length) {
    showToast('роЗройрпНройрпБроорпН роХрпБро▒ро│рпНроХро│рпН роЪрпЗрооро┐роХрпНроХро╡ро┐ро▓рпНро▓рпИ тАФ тЭдя╕П родроЯрпНроЯро┐ роЪрпЗрооро┐роХрпНроХро╡рпБроорпН');
    return;
  }
  const modalContent = document.getElementById('modal-content');
  const overlay      = document.getElementById('modal-overlay');
  const chips = favs.map(n =>
    `<button onclick="loadKuralInModal(${n})"
      style="padding:8px 16px;border-radius:100px;background:var(--cream-dk);border:1.5px solid var(--border);
             font-family:var(--f-tamil);font-size:13px;color:var(--maroon);cursor:pointer;transition:.2s;font-weight:700">
      ЁЯУЬ роХрпБро▒ро│рпН ${n}
    </button>`
  ).join('');
  modalContent.innerHTML = `
    <p style="font-size:12px;font-weight:700;color:var(--text-light);letter-spacing:.06em;text-transform:uppercase;margin-bottom:16px">
      тЭдя╕П роОройрпН рокро┐роЯро┐родрпНрод роХрпБро▒ро│рпНроХро│рпН (${favs.length})
    </p>
    <div style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:16px">${chips}</div>
    <p style="font-size:12px;color:var(--text-light);font-family:var(--f-tamil)">роХрпБро▒ро│рпН роОрогрпНрогрпИродрпН родроЯрпНроЯро┐ рокроЯро┐роХрпНроХро╡рпБроорпН</p>
  `;
  overlay.hidden = false;
  document.body.style.overflow = 'hidden';
}

function loadKuralInModal(number) {
  window.kuralAPI.getKural(number).then(k => { if (k) showKuralModal(k); });
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   BOOKMARKS VIEW
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function showBookmarks() {
  const view   = document.getElementById('bookmarks-view');
  const feed   = document.getElementById('bookmarks-feed');
  const empty  = document.getElementById('bookmarks-empty');
  const saved  = getSaved();
  feed.innerHTML = '';
  view.hidden    = false;
  document.body.style.overflow = 'hidden';
  if (!saved.length) { empty.hidden = false; return; }
  empty.hidden = true;
  saved.forEach(post => { if (post?.id) feed.appendChild(createPostCard(post)); });
}

function hideBookmarks() {
  document.getElementById('bookmarks-view').hidden = true;
  document.body.style.overflow = '';
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   PRELOAD
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function preloadNextKural(num) {
  const next = num < 1330 ? num + 1 : 1;
  window.kuralAPI?.getKural(next).catch(() => {});
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   TOAST
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
let _toastTimer;
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  clearTimeout(_toastTimer);
  _toastTimer = setTimeout(() => t.classList.remove('show'), 2600);
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   MINDFUL PAUSE
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function showMindfulPause()  { document.getElementById('mindful-pause').hidden = false; document.body.style.overflow = 'hidden'; }
function hideMindfulPause()  { document.getElementById('mindful-pause').hidden = true;  document.body.style.overflow = ''; }

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   TRENDING SECTION RENDERER
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function renderTrendingSection() {
  const container = document.getElementById('trending-chips');
  if (!container) return;
  const trending = [...CONTENT_DB]
    .filter(p => p.type !== 'audio')
    .sort((a, b) => (b.likes || 0) - (a.likes || 0))
    .slice(0, 7);

  container.innerHTML = trending.map(post => {
    const cat   = CATEGORIES[post.category] || { icon:'ЁЯУД' };
    const short = post.verse[0].length > 22 ? post.verse[0].slice(0, 22) + 'тАж' : post.verse[0];
    return `<button class="trending-chip ripple-host" data-id="${post.id}">${cat.icon} ${short}</button>`;
  }).join('');

  container.addEventListener('click', e => {
    const chip = e.target.closest('.trending-chip');
    if (!chip) return;
    const post = CONTENT_DB.find(p => p.id === parseInt(chip.dataset.id));
    if (post) openPostModal(post);
  });
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   STORY STRIP INIT
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function initStoryStrip() {
  const storyEntry = document.getElementById('story-entry-btn');
  storyEntry?.addEventListener('click', () => window.storyMode?.openStories(0));
  storyEntry?.addEventListener('keydown', e => {
    if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); storyEntry.click(); }
  });

  document.querySelectorAll('.story-cat-item').forEach(item => {
    item.addEventListener('click', () => window.storyMode?.openByCategory(item.dataset.cat));
  });
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   QUOTE GENERATOR INIT
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function initQuoteGenerator() {
  const gen = new QuoteGenerator();
  window.quoteGen = gen;

  const overlay = document.getElementById('quote-overlay');

  document.getElementById('quote-close')?.addEventListener('click', () => {
    overlay.hidden = true;
    document.body.style.overflow = '';
  });
  overlay?.addEventListener('click', e => {
    if (e.target === overlay) { overlay.hidden = true; document.body.style.overflow = ''; }
  });
  document.getElementById('quote-download')?.addEventListener('click', () => gen.download());
  document.getElementById('quote-share')?.addEventListener('click', () => gen.share());
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   HEADER SCROLL HIDE
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function setupHeaderScroll() {
  let lastY   = 0;
  const header = document.getElementById('main-header');
  header.style.transition = 'transform .3s ease';
  window.addEventListener('scroll', () => {
    const y = window.scrollY;
    header.style.transform = (y > lastY && y > 100) ? 'translateY(-100%)' : 'translateY(0)';
    lastY = y;
  }, { passive:true });
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   RIPPLE EFFECT
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function addRipple(host, e, dark = false) {
  const rect = host.getBoundingClientRect();
  const size = Math.max(rect.width, rect.height) * 2;
  const x    = (e.clientX ?? rect.left + rect.width  / 2) - rect.left - size / 2;
  const y    = (e.clientY ?? rect.top  + rect.height / 2) - rect.top  - size / 2;
  const r    = document.createElement('span');
  r.className = 'ripple' + (dark ? ' dark' : '');
  r.style.cssText = `width:${size}px;height:${size}px;left:${x}px;top:${y}px`;
  host.appendChild(r);
  r.addEventListener('animationend', () => r.remove());
}

function initRipples() {
  document.addEventListener('pointerdown', e => {
    const host = e.target.closest('.ripple-host');
    if (!host) return;
    const bg = window.getComputedStyle(host).backgroundColor;
    const isDark = bg.includes('123') || bg.includes('0,0') || host.classList.contains('icon-btn');
    addRipple(host, e, !isDark);
  });
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   HEART BURST
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function burstHearts(btnEl) {
  const count = 4 + Math.floor(Math.random() * 3);
  const rect  = btnEl.getBoundingClientRect();
  for (let i = 0; i < count; i++) {
    const h = document.createElement('span');
    h.className = 'heart-burst';
    h.textContent = 'тЭдя╕П';
    const offsetX = (Math.random() - 0.5) * 50;
    h.style.cssText = `
      left:${rect.left + rect.width/2 + offsetX}px;
      top:${rect.top}px;position:fixed;
      animation-delay:${i*0.07}s;
      animation-duration:${0.8+Math.random()*0.4}s;
      font-size:${14+Math.floor(Math.random()*10)}px;`;
    document.body.appendChild(h);
    h.addEventListener('animationend', () => h.remove());
  }
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   COUNTER ANIMATION
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function animateCounter(el, toVal) {
  const fromVal = parseInt(el.textContent) || 0;
  if (fromVal === toVal) return;
  const step  = toVal > fromVal ? 1 : -1;
  const steps = Math.abs(toVal - fromVal);
  const delay = Math.max(20, Math.min(80, 400 / steps));
  let cur = fromVal;
  const tick = () => {
    cur += step;
    el.textContent = cur;
    el.classList.add('count-pop');
    el.addEventListener('animationend', () => el.classList.remove('count-pop'), { once:true });
    if (cur !== toVal) setTimeout(tick, delay);
  };
  setTimeout(tick, delay);
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   TAB INDICATOR  &  NAV PILL
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function updateTabIndicator(activeTab) {
  const indicator = document.getElementById('tab-indicator');
  if (!indicator || !activeTab) return;
  const parent = activeTab.closest('.category-tabs');
  if (!parent) return;
  const pRect = parent.getBoundingClientRect();
  const tRect = activeTab.getBoundingClientRect();
  indicator.style.left  = `${tRect.left - pRect.left + parent.scrollLeft}px`;
  indicator.style.width = `${tRect.width}px`;
}

function updateNavPill(activeBtn) {
  const pill = document.getElementById('nav-active-pill');
  if (!pill || !activeBtn) return;
  const nav   = activeBtn.closest('.bottom-nav');
  if (!nav) return;
  const nRect = nav.getBoundingClientRect();
  const bRect = activeBtn.getBoundingClientRect();
  pill.style.left  = `${bRect.left - nRect.left}px`;
  pill.style.width = `${bRect.width}px`;
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   SWIPE GESTURE ON DAILY KURAL
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function setupKuralSwipe() {
  const section = document.getElementById('daily-kural-section');
  let startX = 0, startY = 0, startT = 0, swiping = false;
  let currentKuralNum = 1;

  function getCurrentNum() {
    const badge = section.querySelector('.kural-number-badge');
    const m = badge?.textContent.match(/(\d+)/);
    return m ? parseInt(m[1]) : currentKuralNum;
  }

  async function navigateTo(num) {
    const card = document.getElementById('daily-kural-card');
    const dir  = num > currentKuralNum ? -1 : 1;
    card.style.transition = 'transform .2s ease,opacity .2s ease';
    card.style.transform  = `translateX(${-dir * 40}px)`;
    card.style.opacity    = '0';

    const clamped = Math.max(1, Math.min(1330, num));
    const k = await window.kuralAPI.getKural(clamped);
    currentKuralNum = clamped;

    card.style.transition = 'none';
    card.style.transform  = `translateX(${dir * 40}px)`;
    card.style.opacity    = '0';
    requestAnimationFrame(() => {
      card.style.transition = 'transform .28s ease,opacity .28s ease';
      card.style.transform  = 'translateX(0)';
      card.style.opacity    = '1';
    });
    if (k) window.dailyKural._render(k);
  }

  section.addEventListener('touchstart', e => {
    startX = e.touches[0].clientX; startY = e.touches[0].clientY;
    startT = Date.now(); swiping = true;
  }, { passive:true });

  section.addEventListener('touchend', e => {
    if (!swiping) return; swiping = false;
    const dx = e.changedTouches[0].clientX - startX;
    const dy = e.changedTouches[0].clientY - startY;
    const dt = Date.now() - startT;
    if (Math.abs(dx) > 40 && Math.abs(dx) > Math.abs(dy) * 1.5 && dt < 400) {
      navigateTo(getCurrentNum() + (dx < 0 ? 1 : -1));
    }
  }, { passive:true });

  document.getElementById('kural-prev')?.addEventListener('click', () => navigateTo(getCurrentNum() - 1));
  document.getElementById('kural-next')?.addEventListener('click', () => navigateTo(getCurrentNum() + 1));
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   ONLINE DOT
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function updateOnlineDot(online) {
  const dot = document.getElementById('online-dot');
  if (!dot) return;
  dot.classList.toggle('offline', !online);
  dot.title = online ? 'Online' : 'Offline';
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   ADHIGARAM (CHAPTER) NAMES тАФ 133 Chapters
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
const ADHIGARAM_NAMES = [
  // роЕро▒родрпНродрпБрокрпНрокро╛ро▓рпН (1тАУ38)
  'роХроЯро╡рпБро│рпН ро╡ро╛ро┤рпНродрпНродрпБ','ро╡ро╛ройрпНроЪро┐ро▒рокрпНрокрпБ','роирпАродрпНродро╛ро░рпН рокрпЖро░рпБроорпИ','роЕро▒ройрпН ро╡ро▓ро┐ропрпБро▒рпБродрпНродро▓рпН',
  'роЗро▓рпНро╡ро╛ро┤рпНроХрпНроХрпИ','ро╡ро╛ро┤рпНроХрпНроХрпИродрпНродрпБрогрпИроиро▓роорпН','роороХрпНроХроЯрпНрокрпЗро▒рпБ','роЕройрпНрокрпБроЯрпИроорпИ',
  'ро╡ро┐ро░рпБроирпНродрпЛроорпНрокро▓рпН','роЗройро┐ропро╡рпИроХрпВро▒ро▓рпН','роЪрпЖропрпНроирпНроиройрпНро▒ро┐ропро▒ро┐родро▓рпН','роироЯрпБро╡рпБроиро┐ро▓рпИроорпИ',
  'роЕроЯроХрпНроХроорпБроЯрпИроорпИ','роТро┤рпБроХрпНроХроорпБроЯрпИроорпИ','рокро┐ро▒ройро┐ро▓рпНро╡ро┐ро┤рпИропро╛роорпИ','рокрпКро▒рпИропрпБроЯрпИроорпИ',
  'роЕро┤рпБроХрпНроХро╛ро▒ро╛роорпИ','ро╡рпЖроГроХро╛роорпИ','рокрпБро▒роЩрпНроХрпВро▒ро╛роорпИ','рокропройро┐ро▓роЪрпКро▓рпНро▓ро╛роорпИ',
  'родрпАро╡ро┐ройрпИропроЪрпНроЪроорпН','роТрокрпНрокрпБро░ро╡ро▒ро┐родро▓рпН','роИроХрпИ','рокрпБроХро┤рпН','роЕро░рпБро│рпБроЯрпИроорпИ',
  'рокрпБро▓ро╛ро▓рпНрооро▒рпБродрпНродро▓рпН','родро╡роорпН','роХрпВроЯро╛ро╡рпКро┤рпБроХрпНроХроорпН','роХро│рпНро│ро╛роорпИ','ро╡ро╛ропрпНроорпИ',
  'ро╡рпЖроХрпБро│ро╛роорпИ','роЗройрпНройро╛роЪрпЖропрпНропро╛роорпИ','роХрпКро▓рпНро▓ро╛роорпИ','роиро┐ро▓рпИропро╛роорпИ','родрпБро▒ро╡рпБ',
  'роорпЖропрпНропрпБрогро░рпНродро▓рпН','роЕро╡ро╛ро╡ро▒рпБродрпНродро▓рпН','роКро┤рпН',
  // рокрпКро░рпБроЯрпНрокро╛ро▓рпН (39тАУ108)
  'роЗро▒рпИрооро╛роЯрпНроЪро┐','роХро▓рпНро╡ро┐','роХро▓рпНро▓ро╛роорпИ','роХрпЗро│рпНро╡ро┐','роЕро▒ро┐ро╡рпБроЯрпИроорпИ',
  'роХрпБро▒рпНро▒роЩрпНроХроЯро┐родро▓рпН','рокрпЖро░ро┐ропро╛ро░рпИродрпНродрпБрогрпИроХрпНроХрпЛроЯро▓рпН','роЪро┐ро▒рпНро▒ро┐ройроЮрпНроЪрпЗро░ро╛роорпИ',
  'родрпЖро░ро┐роирпНродрпБроЪрпЖропро▓рпНро╡роХрпИ','ро╡ро▓ро┐ропрпНроЕро▒ро┐родро▓рпН','роХро╛ро▓рооро▒ро┐родро▓рпН','роЗроЯройро▒ро┐родро▓рпН',
  'родрпЖро░ро┐роирпНродрпБродрпЖро│ро┐родро▓рпН','родрпЖро░ро┐роирпНродрпБро╡ро┐ройрпИропро╛роЯро▓рпН','роЪрпБро▒рпНро▒роорпНродро┤ро╛ро▓рпН','рокрпКроЪрпНроЪро╛ро╡ро╛роорпИ',
  'роЪрпЖроЩрпНроХрпЛройрпНроорпИ','роХрпКроЯрпБроЩрпНроХрпЛройрпНроорпИ','ро╡рпЖро░рпБро╡роирпНродроЪрпЖропрпНропро╛роорпИ','роХрогрпНрогрпЛроЯрпНроЯроорпН',
  'роТро▒рпНро▒ро╛роЯро▓рпН','роКроХрпНроХроорпБроЯрпИроорпИ','роороЯро┐ропро┐ройрпНроорпИ','роЖро│рпНро╡ро┐ройрпИропрпБроЯрпИроорпИ',
  'роЗроЯрпБроХрпНроХрогро┤ро┐ропро╛роорпИ','роЕроорпИроЪрпНроЪрпБ','роЪрпКро▓рпНро╡ройрпНроорпИ','ро╡ро┐ройрпИродрпНродрпВропрпНроорпИ',
  'ро╡ро┐ройрпИродрпНродро┐роЯрпНрокроорпН','ро╡ро┐ройрпИроЪрпЖропро▓рпНро╡роХрпИ','родрпВродрпБ','рооройрпНройро░рпИроЪрпНроЪрпЗро░рпНроирпНродрпКро┤рпБроХро▓рпН',
  'роХрпБро▒ро┐рокрпНрокро▒ро┐родро▓рпН','роЕро╡рпИропроЮрпНроЪро╛роорпИ','роЕро╡рпИропро▒ро┐родро▓рпН','роиро╛роЯрпБ','роЕро░рогрпН',
  'рокрпКро░рпБро│рпНроЪрпЖропро▓рпНро╡роХрпИ','рокроЯрпИрооро╛роЯрпНроЪро┐','рокроЯрпИроЪрпНроЪрпЖро░рпБроХрпНроХрпБ','роироЯрпНрокрпБ',
  'роироЯрпНрокро╛ро░ро╛ропрпНродро▓рпН','рокро┤рпИроорпИ','родрпАроироЯрпНрокрпБ','роХрпВроЯро╛роироЯрпНрокрпБ','рокрпЗродрпИроорпИ',
  'рокрпБро▓рпНро▓ро▒ро┐ро╡ро╛рогрпНроорпИ','роЗроХро▓рпН','рокроХрпИрооро╛роЯрпНроЪро┐','рокроХрпИродрпНродро┐ро▒роирпНродрпЖро░ро┐родро▓рпН',
  'роЙроЯрпНрокроХрпИ','рокрпЖро░ро┐ропро╛ро░рпИрокрпНрокро┐ро┤рпИропро╛роорпИ','рокрпЖрогрпНро╡ро┤ро┐роЪрпНроЪрпЗро▒ро▓рпН','ро╡ро░рпИро╡ро┐ройрпНроороХро│ро┐ро░рпН',
  'роХро│рпНро│рпБрогрпНрогро╛роорпИ','роЪрпВродрпБ','рооро░рпБроирпНродрпБ','роХрпБроЯро┐роорпИ','рооро╛ройроорпН','рокрпЖро░рпБроорпИ',
  'роЪро╛ройрпНро▒ро╛рогрпНроорпИ','рокрогрпНрокрпБроЯрпИроорпИ','роиройрпНро▒ро┐ропро┐ро▓рпНроЪрпЖро▓рпНро╡роорпН','роиро╛рогрпБроЯрпИроорпИ',
  'роХрпБроЯро┐ропро┐ро▒рпБродрпНродро▓рпН','роЙро┤ро╡рпБ','роиро▓рпНроХрпБро░ро╡рпБ','роЗро░ро╡рпБ','роЗро░ро╡роЪрпНроЪроорпН','роХропроорпИ',
  // роХро╛роородрпНродрпБрокрпНрокро╛ро▓рпН (109тАУ133)
  'родроХрпИропрогроЩрпНроХрпБро▒рпБродрпНродро▓рпН','роХрпБро▒ро┐рокрпНрокро▒ро┐родро▓рпН','рокрпБрогро░рпНроЪрпНроЪро┐роороХро┐ро┤рпНродро▓рпН',
  'роиро▓роорпНрокрпБройрпИроирпНродрпБро░рпИродрпНродро▓рпН','роХро╛родро▒рпНроЪро┐ро▒рокрпНрокрпБро░рпИродрпНродро▓рпН','роиро╛рогрпБродрпНродрпБро▒ро╡рпБро░рпИродрпНродро▓рпН',
  'роЕро▓ро░ро▒ро┐ро╡рпБро▒рпБродрпНродро▓рпН','рокро┐ро░ро┐ро╡ро╛ро▒рпНро▒ро╛роорпИ','рокроЯро░рпНроорпЖро▓ро┐роирпНродро┐ро░роЩрпНроХро▓рпН',
  'роХрогрпНро╡ро┐родрпБрокрпНрокро┤ро┐родро▓рпН','рокроЪрокрпНрокрпБро▒рпБрокро░рпБро╡ро░ро▓рпН','родройро┐рокрпНрокроЯро░рпНрооро┐роХрпБродро┐',
  'роиро┐ройрпИроирпНродро╡ро░рпНрокрпБро▓роорпНрокро▓рпН','роХройро╡рпБроиро┐ро▓рпИропрпБро░рпИродрпНродро▓рпН','рокрпКро┤рпБродрпБроХрогрпНроЯро┐ро░роЩрпНроХро▓рпН',
  'роЙро▒рпБрокрпНрокрпБроиро▓ройро┤ро┐родро▓рпН','роирпЖроЮрпНроЪрпКроЯрпБроХро┐ро│родрпНродро▓рпН','роиро┐ро▒рпИропро┤ро┐родро▓рпН',
  'роЕро╡ро░рпНро╡ропро┐ройрпНро╡ро┐родрпБроорпНрокро▓рпН','роХрпБро▒ро┐рокрпНрокро▒ро┐ро╡рпБро▒рпБродрпНродро▓рпН','рокрпБрогро░рпНроЪрпНроЪро┐ро╡ро┐родрпБроорпНрокро▓рпН',
  'роирпЖроЮрпНроЪрпКроЯрпБрокрпБро▓родрпНродро▓рпН','рокрпБро▓ро╡ро┐','рокрпБро▓ро╡ро┐роирпБрогрпБроХрпНроХроорпН','роКроЯро▓рпБро╡роХрпИ',
];

const PAAL_CONFIG = [
  { name:'роЕро▒родрпНродрпБрокрпНрокро╛ро▓рпН', emoji:'тЪЦя╕П', adhigaramStart:1,   adhigaramEnd:38  },
  { name:'рокрпКро░рпБроЯрпНрокро╛ро▓рпН',   emoji:'ЁЯСС', adhigaramStart:39,  adhigaramEnd:108 },
  { name:'роХро╛роородрпНродрпБрокрпНрокро╛ро▓рпН',emoji:'ЁЯТЭ', adhigaramStart:109, adhigaramEnd:133 },
];

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   KURAL BROWSER тАФ Browse all 1330 Kurals
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
class KuralBrowser {
  constructor(api) {
    this.api = api;
    this.currentAdhigaram = 1;
    this._loading = false;
  }

  get _kuralStart() { return (this.currentAdhigaram - 1) * 10 + 1; }
  get _kuralEnd()   { return this.currentAdhigaram * 10; }

  async goToAdhigaram(num) {
    if (this._loading) return;
    this.currentAdhigaram = Math.max(1, Math.min(133, num));
    this._updateHeader();
    await this._loadKurals();
  }

  goToPaal(paalIndex) {
    const paal = PAAL_CONFIG[paalIndex];
    if (!paal) return;
    this.goToAdhigaram(paal.adhigaramStart);
  }

  jumpToKural(numStr) {
    const n = parseInt(numStr);
    if (isNaN(n) || n < 1 || n > 1330) {
      showToast('роХрпБро▒ро│рпН роОрогрпН 1 роорпБродро▓рпН 1330 ро╡ро░рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН');
      return;
    }
    const adhigaram = Math.floor((n - 1) / 10) + 1;
    this.goToAdhigaram(adhigaram);
  }

  _getPaalName(adhigaramNum) {
    const p = PAAL_CONFIG.find(p => adhigaramNum >= p.adhigaramStart && adhigaramNum <= p.adhigaramEnd);
    return p ? `${p.emoji} ${p.name}` : '';
  }

  _updateHeader() {
    const name  = ADHIGARAM_NAMES[this.currentAdhigaram - 1] || '';
    const start = this._kuralStart;
    const end   = this._kuralEnd;
    const numEl   = document.getElementById('adhigaram-num');
    const nameEl  = document.getElementById('adhigaram-name');
    const rangeEl = document.getElementById('adhigaram-range');
    if (numEl)   numEl.textContent   = `роЕродро┐роХро╛ро░роорпН ${this.currentAdhigaram}`;
    if (nameEl)  nameEl.textContent  = name;
    if (rangeEl) rangeEl.textContent = `роХрпБро▒ро│рпН ${start}тАУ${end}`;
    document.querySelectorAll('.kural-paal-btn').forEach((btn, i) => {
      const paal = PAAL_CONFIG[i];
      btn.classList.toggle('active',
        this.currentAdhigaram >= paal.adhigaramStart &&
        this.currentAdhigaram <= paal.adhigaramEnd
      );
    });
  }

  async _loadKurals() {
    this._loading = true;
    const list = document.getElementById('kural-browser-list');
    if (!list) { this._loading = false; return; }
    list.innerHTML = `<div class="kural-browser-loading"><div class="feed-loader-dots"><span></span><span></span><span></span></div><span>роХрпБро▒ро│рпНроХро│рпН роПро▒рпНро▒рпБроХро┐ро▒рпЛроорпНтАж</span></div>`;

    const nums   = Array.from({length:10}, (_, i) => this._kuralStart + i);
    const kurals = await Promise.all(nums.map(n => this.api.getKural(n).catch(() => null)));

    list.innerHTML = '';

    // Section header
    const header = document.createElement('div');
    header.className = 'kural-section-header';
    header.innerHTML = `
      <div class="kural-section-paal">${this._getPaalName(this.currentAdhigaram)}</div>
      <h3 class="kural-section-title">ЁЯУЬ ${ADHIGARAM_NAMES[this.currentAdhigaram - 1] || ''}</h3>
      <p class="kural-section-sub">роХрпБро▒ро│рпН ${this._kuralStart} тАУ ${this._kuralEnd}</p>`;
    list.appendChild(header);

    kurals.forEach((k, i) => {
      if (!k) return;
      const num  = this._kuralStart + i;
      const isFav = isKuralFavorite(num);
      const card = document.createElement('article');
      card.className = 'kural-browser-card';
      card.innerHTML = `
        <div class="kural-browser-card-top">
          <span class="kural-num-pill">ЁЯУЬ ${num}</span>
          <button class="kural-fav-btn ripple-host" data-num="${num}" title="${isFav?'роирпАроХрпНроХрпБ':'роЪрпЗрооро┐'}">${isFav?'тЭдя╕П':'ЁЯдН'}</button>
        </div>
        <div class="kural-browser-verse">
          <p class="kural-bv-line">${k.line1 || ''}</p>
          <p class="kural-bv-line">${k.line2 || ''}</p>
        </div>
        ${k.tam_exp ? `<p class="kural-browser-exp">${k.tam_exp}</p>` : ''}
        <div class="kural-browser-foot">
          <button class="kural-foot-btn ripple-host" data-num="${num}" data-action="share">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>
            рокроХро┐ро░рпН
          </button>
          <button class="kural-foot-btn kural-foot-btn-primary ripple-host" data-num="${num}" data-action="expand">ро╡ро┐ро░ро┐ро╡ро╛роХ тЖТ</button>
        </div>`;
      list.appendChild(card);
    });

    list.querySelectorAll('.kural-fav-btn').forEach(btn => {
      btn.addEventListener('click', e => {
        e.stopPropagation();
        toggleKuralFavorite(parseInt(btn.dataset.num), btn);
      });
    });
    list.querySelectorAll('.kural-foot-btn').forEach(btn => {
      btn.addEventListener('click', e => {
        e.stopPropagation();
        const num    = parseInt(btn.dataset.num);
        const action = btn.dataset.action;
        if (action === 'expand') loadKuralInModal(num);
        else if (action === 'share') window.kuralAPI.getKural(num).then(k => { if (k) shareKural(k); });
      });
    });

    this._loading = false;
  }
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   LIBRARY BROWSER тАФ Project Madurai Works
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
class LibraryBrowser {
  constructor() {
    this._data        = null;
    this._genres      = [];
    this._activeGenre = 'all';
    this._searchQuery = '';
    this._page        = 0;
    this._perPage     = 20;
  }

  load() {
    if (this._data) { this._render(); return; }
    // Use bundled LIBRARY_DATA (library-data.js) тАФ fully offline, no fetch
    if (typeof LIBRARY_DATA !== 'undefined' && LIBRARY_DATA.length) {
      this._data = LIBRARY_DATA.map(r => ({
        workNo: r[0]||'', title: r[1]||'', author: r[2]||'',
        genre:  r[3]||'', pdfUrl: r[4]||'', unicodeUrl: r[5]||'',
      }));
      this._buildGenres();
      this._renderGenreChips();
      this._render();
    } else {
      const list = document.getElementById('library-list');
      if (list) list.innerHTML = `<div class="library-error"><span>ЁЯУЪ</span><p>роирпВро▓рпН родро░ро╡рпБ роХро┐роЯрпИроХрпНроХро╡ро┐ро▓рпНро▓рпИ</p><p class="lib-err-sub">library-data.js роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпН</p></div>`;
    }
  }

  _parseCSV(text) {
    const lines = text.trim().split('\n');
    this._data = lines.slice(1).map(line => {
      const f = this._parseRow(line);
      return {
        workNo:     (f[0] || '').trim(),
        title:      (f[1] || '').trim(),
        author:     (f[2] || '').trim(),
        genre:      (f[3] || '').trim(),
        pdfUrl:     (f[4] || '').trim(),
        unicodeUrl: (f[5] || '').trim(),
      };
    }).filter(w => w.title);
  }

  _parseRow(row) {
    const fields = []; let cur = '', inQ = false;
    for (const ch of row) {
      if (ch === '"') { inQ = !inQ; }
      else if (ch === ',' && !inQ) { fields.push(cur); cur = ''; }
      else { cur += ch; }
    }
    fields.push(cur);
    return fields;
  }

  _buildGenres() {
    const set = new Set(this._data.map(w => w.genre).filter(Boolean));
    this._genres = [...set].sort();
  }

  _renderGenreChips() {
    const container = document.getElementById('library-genre-scroll');
    if (!container) return;
    const all = [{ key:'all', label:'роЕройрпИродрпНродрпБроорпН' }, ...this._genres.map(g => ({ key:g, label:g }))];
    container.innerHTML = all.map(g =>
      `<button class="lib-genre-chip ripple-host${this._activeGenre === g.key ? ' active' : ''}" data-genre="${g.key.replace(/"/g,'&quot;')}">${g.label}</button>`
    ).join('');
    container.addEventListener('click', e => {
      const chip = e.target.closest('.lib-genre-chip');
      if (!chip) return;
      this._activeGenre = chip.dataset.genre;
      container.querySelectorAll('.lib-genre-chip').forEach(c =>
        c.classList.toggle('active', c.dataset.genre === this._activeGenre)
      );
      this._page = 0;
      this._render();
    });
  }

  search(q) {
    this._searchQuery = q.toLowerCase().trim();
    this._page = 0;
    this._render();
  }

  _filtered() {
    return (this._data || []).filter(w => {
      const gMatch = this._activeGenre === 'all' || w.genre === this._activeGenre;
      const q = this._searchQuery;
      const sMatch = !q ||
        w.title.toLowerCase().includes(q) ||
        w.author.toLowerCase().includes(q) ||
        w.genre.toLowerCase().includes(q);
      return gMatch && sMatch;
    });
  }

  _render() {
    const filtered = this._filtered();
    const list     = document.getElementById('library-list');
    const statsEl  = document.getElementById('library-stats');
    if (!list) return;
    if (statsEl) statsEl.textContent = `${filtered.length} роирпВро▓рпНроХро│рпН`;

    const slice = filtered.slice(0, (this._page + 1) * this._perPage);
    list.innerHTML = '';

    slice.forEach(work => {
      const card = document.createElement('article');
      card.className = 'library-card';
      const pdfs = work.pdfUrl.split('|').map(u => u.trim()).filter(Boolean);
      const unis = work.unicodeUrl.split('|').map(u => u.trim()).filter(Boolean);

      const pdfLinks = pdfs.map((url, i) =>
        `<a href="${url}" target="_blank" rel="noopener noreferrer" class="lib-link lib-link-pdf">ЁЯУД PDF${pdfs.length > 1 ? ' '+(i+1) : ''}</a>`
      ).join('');
      const readLinks = unis.map((url, i) =>
        `<a href="${url}" target="_blank" rel="noopener noreferrer" class="lib-link lib-link-read">ЁЯУЦ рокроЯро┐${unis.length > 1 ? ' '+(i+1) : ''}</a>`
      ).join('');

      card.innerHTML = `
        <div class="lib-card-body">
          <p class="lib-card-title">${work.title}</p>
          ${work.author ? `<p class="lib-card-author">тЬНя╕П ${work.author}</p>` : ''}
          ${work.genre ? `<span class="lib-card-genre-badge">${work.genre}</span>` : ''}
        </div>
        <div class="lib-card-links">${pdfLinks}${readLinks}</div>`;
      list.appendChild(card);
    });

    if (slice.length < filtered.length) {
      const more = document.createElement('button');
      more.className = 'lib-load-more ripple-host';
      more.textContent = `роорпЗро▓рпБроорпН ${Math.min(this._perPage, filtered.length - slice.length)} роирпВро▓рпНроХро│рпН роХро╛роЯрпНроЯрпБ`;
      more.addEventListener('click', () => { this._page++; this._render(); });
      list.appendChild(more);
    }
    if (!slice.length) {
      list.innerHTML = `<div class="library-empty"><span>ЁЯФН</span><p>родрпЗроЯро┐роп роирпВро▓рпН роХро┐роЯрпИроХрпНроХро╡ро┐ро▓рпНро▓рпИ</p></div>`;
    }
  }
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   EXPLORE VIEW  show / hide
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
function showExplore() {
  const view = document.getElementById('explore-view');
  view.hidden = false;
  document.body.style.overflow = 'hidden';
  if (!window.kuralBrowser) {
    window.kuralBrowser = new KuralBrowser(window.kuralAPI);
    window.kuralBrowser.goToAdhigaram(1);
  }
}

function hideExplore() {
  document.getElementById('explore-view').hidden = true;
  document.body.style.overflow = '';
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   DAILY EVENT BANNER
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
class DailyEventBanner {
  constructor(sheetsAPI) {
    this.api    = sheetsAPI;
    this.banner = document.getElementById('daily-event-banner');
    if (!this.banner) return;
    document.getElementById('deb-close')?.addEventListener('click', () => this.dismiss());
  }

  _todayKey() {
    const d = new Date();
    return `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,'0')}-${String(d.getDate()).padStart(2,'0')}`;
  }

  _getLocalEvent() {
    const d    = new Date();
    const mmdd = `${String(d.getMonth()+1).padStart(2,'0')}-${String(d.getDate()).padStart(2,'0')}`;
    const cal  = DAILY_EVENTS.find(e => e.date === mmdd);
    if (cal) return cal;
    return { ...DOW_THEMES[d.getDay()], title: DOW_THEMES[d.getDay()].label + ' тАФ ' + DOW_THEMES[d.getDay()].deity };
  }

  async load() {
    if (!this.banner) return;
    // Skip if already dismissed today
    const key = 'saram_deb_dismissed';
    if (localStorage.getItem(key) === this._todayKey()) return;

    // Try remote first, then local fallback
    let event = null;
    if (this.api?.url) {
      event = await this.api.fetchDailyEvent();
    }
    if (!event) event = this._getLocalEvent();
    this._render(event);
  }

  _render(ev) {
    if (!this.banner || !ev) return;
    const badge = document.getElementById('deb-badge');
    const title = document.getElementById('deb-title');
    const desc  = document.getElementById('deb-desc');
    const imgWrap = document.getElementById('deb-img-wrap');

    if (badge) badge.textContent = (ev.emoji || 'ЁЯкФ') + ' ' + (ev.type === 'calendar' ? 'роЗройрпНро▒рпИроп роиро┐роХро┤рпНро╡рпБ' : 'роЗройрпНро▒рпИроп роХро░рпБрокрпНрокрпКро░рпБро│рпН');
    if (title) title.textContent = ev.title_ta || ev.title || '';
    if (desc)  desc.textContent  = ev.description || ev.desc || '';

    // Show AI image if available
    if (imgWrap) {
      if (ev.image_url) {
        imgWrap.innerHTML = `<img src="${ev.image_url}" alt="Daily event" style="width:64px;height:64px;border-radius:50%;object-fit:cover;border:2px solid var(--gold)"/>`;
      } else {
        imgWrap.innerHTML = `<span style="font-size:36px">${ev.emoji || 'ЁЯкФ'}</span>`;
      }
    }
    this.banner.hidden = false;
    // Animate in
    this.banner.style.transform = 'translateY(-20px)';
    this.banner.style.opacity   = '0';
    requestAnimationFrame(() => {
      this.banner.style.transition = 'transform .35s var(--spring, ease), opacity .3s ease';
      this.banner.style.transform  = 'translateY(0)';
      this.banner.style.opacity    = '1';
    });
  }

  dismiss() {
    if (!this.banner) return;
    this.banner.style.transition = 'transform .25s ease, opacity .25s ease';
    this.banner.style.transform  = 'translateY(-30px)';
    this.banner.style.opacity    = '0';
    setTimeout(() => { this.banner.hidden = true; }, 280);
    localStorage.setItem('saram_deb_dismissed', this._todayKey());
  }
}

/* тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР
   APP INIT
   тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХР */
async function initApp() {
  /* Service Worker */
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js').catch(() => {});
  }

  /* Interactive layer */
  initRipples();
  setupKuralSwipe();
  updateOnlineDot(navigator.onLine);

  /* API & core components */
  const api         = new ThirukkuralAPI();
  window.kuralAPI   = api;
  const dailyKural  = new DailyKural(api);
  window.dailyKural = dailyKural;
  const feedManager = new FeedManager();
  window.feedManager = feedManager;

  /* Google Sheets (optional) */
  const sheetsAPI = new GoogleSheetsAPI(CONFIG.SHEETS_URL);
  window.sheetsAPI = sheetsAPI;

  /* Daily Event Banner */
  const dailyBanner  = new DailyEventBanner(sheetsAPI);
  window.dailyBanner = dailyBanner;
  dailyBanner.load();

  /* Story Mode */
  const storyMode  = new StoryMode();
  window.storyMode = storyMode;

  /* Quote Generator */
  initQuoteGenerator();

  /* Load data тАФ try remote, fall back to local CONTENT_DB */
  dailyKural.load();
  if (CONFIG.SHEETS_URL) {
    sheetsAPI.getContent().then(posts => {
      if (posts && posts !== CONTENT_DB) {
        feedManager.posts = posts;
        feedManager._filterData();
        feedManager._loadMore();
      }
    }).catch(() => {});
  }
  feedManager._filterData();
  feedManager._loadMore();

  /* UI helpers */
  setupHeaderScroll();
  renderTrendingSection();
  initStoryStrip();

  /* Initial positions */
  requestAnimationFrame(() => {
    updateNavPill(document.querySelector('.nav-btn.active'));
    updateTabIndicator(document.querySelector('.cat-tab.active'));
  });

  /* тФАтФА Category Tabs тФАтФА */
  document.getElementById('category-nav').addEventListener('click', e => {
    const tab = e.target.closest('.cat-tab');
    if (!tab) return;
    document.querySelectorAll('.cat-tab').forEach(t => {
      t.classList.remove('active'); t.setAttribute('aria-selected','false');
    });
    tab.classList.add('active'); tab.setAttribute('aria-selected','true');
    updateTabIndicator(tab);
    tab.scrollIntoView({ behavior:'smooth', block:'nearest', inline:'center' });
    feedManager.setCategory(tab.dataset.category);
  });

  /* тФАтФА Random Kural тФАтФА */
  document.getElementById('random-kural-btn').addEventListener('click', async () => {
    const btn = document.getElementById('random-kural-btn');
    btn.disabled = true; btn.style.opacity = '.6';
    const k = await api.getRandomKural();
    if (k) showKuralModal(k);
    btn.disabled = false; btn.style.opacity = '1';
  });

  /* тФАтФА Mood Chips тФАтФА */
  document.getElementById('mood-section').addEventListener('click', e => {
    const chip = e.target.closest('.mood-chip');
    if (!chip) return;
    document.querySelectorAll('.mood-chip').forEach(c => c.classList.remove('active'));
    chip.classList.add('active');
    const cats = MOOD_MAP[chip.dataset.mood];
    if (cats) { feedManager.setMoodFilter(cats); showToast(`${chip.textContent} роХрпНроХро╛рой роЙро│рпНро│роЯроХрпНроХроорпН`); }
  });

  /* тФАтФА Search тФАтФА */
  const searchToggle = document.getElementById('search-toggle');
  const searchBar    = document.getElementById('search-bar');
  const searchInput  = document.getElementById('search-input');
  const searchClose  = document.getElementById('search-close');

  searchToggle.addEventListener('click', () => {
    searchBar.hidden = !searchBar.hidden;
    if (!searchBar.hidden) searchInput.focus();
  });
  searchClose.addEventListener('click', () => {
    searchBar.hidden = true; searchInput.value = '';
    feedManager.setCategory(feedManager.category);
  });

  let _searchTimer;
  searchInput.addEventListener('input', () => {
    clearTimeout(_searchTimer);
    _searchTimer = setTimeout(() => feedManager.searchContent(searchInput.value), 400);
  });

  /* тФАтФА Bookmarks тФАтФА */
  document.getElementById('bookmarks-toggle').addEventListener('click', showBookmarks);
  document.getElementById('bookmarks-back').addEventListener('click', hideBookmarks);

  /* тФАтФА Explore View тФАтФА */
  document.getElementById('explore-back')?.addEventListener('click', () => {
    hideExplore();
    const homeBtn = document.querySelector('.nav-btn[data-view="home"]');
    if (homeBtn) {
      document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
      homeBtn.classList.add('active');
      updateNavPill(homeBtn);
    }
  });

  // Explore tab switching
  document.querySelectorAll('.explore-tab').forEach(tab => {
    tab.addEventListener('click', () => {
      document.querySelectorAll('.explore-tab').forEach(t => {
        t.classList.remove('active'); t.setAttribute('aria-selected','false');
      });
      tab.classList.add('active'); tab.setAttribute('aria-selected','true');
      const name = tab.dataset.tab;
      document.getElementById('panel-kural1330').hidden = (name !== 'kural1330');
      document.getElementById('panel-library').hidden   = (name !== 'library');
      if (name === 'library') {
        if (!window.libraryBrowser) {
          window.libraryBrowser = new LibraryBrowser();
        }
        window.libraryBrowser.load();
      }
    });
  });

  // Adhigaram navigation
  document.getElementById('adhigaram-prev')?.addEventListener('click', () =>
    window.kuralBrowser?.goToAdhigaram(window.kuralBrowser.currentAdhigaram - 1)
  );
  document.getElementById('adhigaram-next')?.addEventListener('click', () =>
    window.kuralBrowser?.goToAdhigaram(window.kuralBrowser.currentAdhigaram + 1)
  );

  // Kural number jump
  document.getElementById('kural-jump-go')?.addEventListener('click', () => {
    const val = document.getElementById('kural-jump-input').value;
    window.kuralBrowser?.jumpToKural(val);
  });
  document.getElementById('kural-jump-input')?.addEventListener('keydown', e => {
    if (e.key === 'Enter') window.kuralBrowser?.jumpToKural(e.target.value);
  });

  // Paal quick nav
  document.querySelectorAll('.kural-paal-btn').forEach((btn, i) => {
    btn.addEventListener('click', () => window.kuralBrowser?.goToPaal(i));
  });

  // Library search
  let _libSearchTimer;
  document.getElementById('library-search')?.addEventListener('input', e => {
    clearTimeout(_libSearchTimer);
    _libSearchTimer = setTimeout(() => window.libraryBrowser?.search(e.target.value), 350);
  });

  /* тФАтФА Modal тФАтФА */
  document.getElementById('modal-close').addEventListener('click', closeModal);
  document.getElementById('modal-overlay').addEventListener('click', e => {
    if (e.target === document.getElementById('modal-overlay')) closeModal();
  });

  /* тФАтФА Mindful тФАтФА */
  document.getElementById('mindful-continue').addEventListener('click', hideMindfulPause);

  /* тФАтФА Bottom Nav тФАтФА */
  document.querySelectorAll('.nav-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      updateNavPill(btn);
      const view = btn.dataset.view;
      if (view === 'bookmarks') {
        showBookmarks();
      } else if (view === 'stories') {
        window.storyMode?.openStories(0);
      } else if (view === 'explore') {
        showExplore();
      } else {
        hideBookmarks();
        window.scrollTo({ top:0, behavior:'smooth' });
      }
    });
  });

  /* тФАтФА Kural Favorites тФАтФА */
  document.getElementById('fav-kural-list-btn')?.addEventListener('click', showKuralFavorites);

  /* тФАтФА Online / Offline тФАтФА */
  window.addEventListener('online', () => {
    updateOnlineDot(true);
    showToast('тЬЕ роЗрогрпИроп роЗрогрпИрокрпНрокрпБ роорпАрогрпНроЯрпБроорпН роХро┐роЯрпИродрпНродродрпБ!');
    window.dailyKural.load();
  });
  window.addEventListener('offline', () => {
    updateOnlineDot(false);
    showToast('тЪая╕П роЗрогрпИроп роЗрогрпИрокрпНрокрпБ роЗро▓рпНро▓рпИ тАФ роЪрпЗрооро┐родрпНрод роХрпБро▒ро│рпНроХро│рпН роороЯрпНроЯрпБроорпН');
  });

  /* тФАтФА Keyboard Shortcuts тФАтФА */
  document.addEventListener('keydown', e => {
    if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
    if (e.ctrlKey || e.metaKey || e.altKey) return;
    switch (e.key) {
      case 'Escape': closeModal(); hideMindfulPause(); break;
      case 'r': case 'R': document.getElementById('random-kural-btn').click(); break;
      case 'd': case 'D':
        window.dailyKural.load();
        window.scrollTo({ top:0, behavior:'smooth' });
        showToast('роЗройрпНро▒рпИроп роХрпБро▒ро│рпН роХро╛роЯрпНроЯрокрпНрокроЯрпБроХро┐ро▒родрпБ');
        break;
      case '/': e.preventDefault(); searchBar.hidden = false; searchInput.focus(); break;
      case 'f': case 'F': showKuralFavorites(); break;
    }
  });
}

/* тФАтФА Start тФАтФА */
document.addEventListener('DOMContentLoaded', initApp);
